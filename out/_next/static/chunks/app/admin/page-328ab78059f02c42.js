(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{68348:function(e,t,s){Promise.resolve().then(s.bind(s,6786))},25262:function(e,t,s){"use strict";s.d(t,{D$:function(){return d},GJ:function(){return u},Mo:function(){return l},NK:function(){return c},Nb:function(){return r},WY:function(){return n},Zz:function(){return a},cz:function(){return o}});var i=s(38472);let l=async()=>{let{data:e}=await i.Z.get("/base_page/home");return e.homeDetails?e.homeDetails:{home:{header:{h1:"",p:""},welcome:{h2:"",p:""},support:{},banner_img:"",cards:[]},point_man:{title:"",content:""},the_sgf:{title:"",content:""},footer_info:{about_us:"",location:"",quick_links:[]},_id:""}},n=async()=>{let{data:e}=await i.Z.get("/videos");return e||[]},a=async()=>{let{data:e}=await i.Z.get("/posts");return e||[]},r=async()=>{let{data:e}=await i.Z.get("/posts/teaching");return e.toString()?e:[]},c=async()=>{let{data:e}=await i.Z.get("/posts/publication");return e.toString()?e:[]},o=async()=>{let{data:e}=await i.Z.get("/videos");return e.toString()?e:[]},d=async()=>{let{data:e}=await i.Z.get("/posts/evangelism");return e.toString()?e:[]},u=async()=>{let e=localStorage.getItem("auth");if(e){let t=JSON.parse(e),{data:s}=await i.Z.get("/is_admin",{headers:{Authorization:"Bearer ".concat(t.token)}})}}},6786:function(e,t,s){"use strict";let i,l,n,a,r,c,o,d;s.r(t),s.d(t,{default:function(){return e1}});var u=s(57437),h=s(2265),g=s(16463),x=s(100),j=s(38472),v=s(94743),p=s(48070),f=s(59549),b=e=>{let{setSubscriberId:t}=e,[s,i]=(0,h.useState)([]),[l,n]=(0,h.useState)([]),[a,r]=(0,h.useContext)(x.Pc),[c,o]=(0,h.useState)(1);return(0,h.useEffect)(()=>{(async()=>{if("subscribers"==a){let{data:e}=await j.Z.get("/subscribers");i(null==e?void 0:e.subscribers),n(null==e?void 0:e.subscribers.slice(0,10))}})()},[a]),"subscribers"==a?(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Subscribers"}),(0,u.jsx)(v.Z,{itemLayout:"horizontal",dataSource:l,renderItem:(e,s)=>(0,u.jsxs)(v.Z.Item,{actions:[(0,u.jsx)("a",{onClick:()=>{r("subscriber"),t(e._id)},children:"view subscriber"},"list-loadmore-more")],children:[(0,u.jsxs)("div",{style:{width:"40%"},children:[(0,f.Z)(e.fname)," ",(0,f.Z)(e.lname)]}),(0,u.jsx)(v.Z.Item.Meta,{description:"".concat(e.email)})]})}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,u.jsx)(p.Z,{pageSize:10,defaultCurrent:c,total:s.length,onChange:(e,t)=>{1==e?n(s.slice(0,t)):n(s.slice((e-1)*t,e*t))}})})]}):(0,u.jsx)(u.Fragment,{})},m=s(19212),y=s.n(m),k=s(56286),Z=s(58569),C=s(17185),w=s(77733),P=s(95381),A=s(46682),S=s(72416),N=s(77435);let{TextArea:T}=k.default,_=[{key:"subscriber_information",label:"Subscriber information"},{key:"send_email",label:"Send Subscriber A Mail"}];var E=e=>{let{subscriberId:t}=e,[s,i]=(0,h.useContext)(x.Pc),[l,n]=(0,h.useState)(!1),[a,r]=(0,h.useState)("subscriber_information"),[c,o]=(0,h.useState)(""),[d,g]=(0,h.useState)({fname:"",lname:"",email:"",phone:""}),v={color:"gray"},p=e=>{r(e)};(0,h.useEffect)(()=>{(async()=>{if("subscriber"==s&&"subscriber_information"==a){let{data:e}=await j.Z.get("/subscribers/".concat(t));g(e)}})()},[s,a,t]);let b=async()=>{n(!0);let{data:e}=await j.Z.post("/subscriber/mail/".concat(d.email),{mail:c});(null==e?void 0:e.ok)?(Z.ZP.success("Email sent to ".concat((0,f.Z)(d.fname))),o(""),r("subscriber_information")):Z.ZP.error("There was an error sending this mail, it is possible the subscriber's email address is not functional. Regardless, try again later."),n(!1)};return"subscriber"==s?"subscriber_information"==a?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(C.Z,{style:{width:"100%"},tabList:_,activeTabKey:a,onTabChange:p,tabProps:{size:"middle"},children:(0,u.jsxs)(C.Z,{children:[(0,u.jsx)(C.Z.Meta,{title:"NAME: ".concat((0,f.Z)(d.fname)," ").concat((0,f.Z)(d.lname)),description:"Date of Subscription: ".concat(y()(d.createdAt))}),(0,u.jsxs)(w.Z,{style:{...v,marginTop:"20px"},children:[(0,u.jsx)(P.Z,{span:6,children:"Firstname"}),(0,u.jsx)("br",{}),(0,u.jsx)(P.Z,{span:18,children:(0,f.Z)(d.fname)})]}),(0,u.jsxs)(w.Z,{style:v,children:[(0,u.jsx)(P.Z,{span:6,children:"Lastname"}),(0,u.jsx)("br",{}),(0,u.jsx)(P.Z,{span:18,children:(0,f.Z)(d.lname)})]}),(0,u.jsxs)(w.Z,{style:v,children:[(0,u.jsx)(P.Z,{span:6,children:(0,u.jsx)(S.Z,{})}),(0,u.jsx)("br",{}),(0,u.jsx)(P.Z,{span:18,children:d.email})]}),(0,u.jsxs)(w.Z,{style:v,children:[(0,u.jsx)(P.Z,{span:6,children:(0,u.jsx)(N.Z,{})}),(0,u.jsx)("br",{}),(0,u.jsx)(P.Z,{span:18,children:d.phone})]})]})})}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(C.Z,{style:{width:"100%"},tabList:_,activeTabKey:a,onTabChange:p,tabProps:{size:"middle"},children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{style:{color:"gray",marginBottom:12},children:["Send ",(0,f.Z)(d.fname)," a mail?"]}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)(T,{rows:6,placeholder:"Enter a message to send",value:c,style:{fontSize:"1rem"},onChange:e=>o(e.target.value)})}),(0,u.jsx)("div",{style:{width:280,float:"right",marginTop:24},children:(0,u.jsx)(A.ZP,{block:!0,type:"primary",onClick:b,loading:l,children:"Send Mail"})})]})})}):(0,u.jsx)(u.Fragment,{})},I=s(81813),H=s(70571),R=()=>{let[e,t]=(0,h.useContext)(x.Pc),[s,i]=(0,h.useState)(0),[l,n]=(0,h.useState)(0),a=async e=>{var t;n(1e3);let s=e.target.files[0];if((null==s?void 0:null===(t=s.type)||void 0===t?void 0:t.split("/")[0])!="image")return Z.ZP.error("Upload an image file");let i=new FormData;i.append("image",s);let{data:l}=await j.Z.post("/image",i);l.ok?Z.ZP.success("succesfully upoladed ".concat(s.name)):Z.ZP.error(l.error),n(0)};return(0,I.Z)(()=>{s<=98&&i(s+1)},l),"add image"==e?(0,u.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,u.jsx)("div",{children:(0,u.jsx)("input",{type:"file",accept:"image/*",name:"image",onChange:a})}),l>0?(0,u.jsx)(H.E,{value:s}):""]}):(0,u.jsx)(u.Fragment,{})},L=s(66648),O=s(9707),B=e=>{let{image:t,addImage:s,handleOk:i,images:l,setImages:n,clickedFrom:a}=e,r=async e=>{if(confirm("Are you sure you want to delete?")){let{data:t}=await j.Z.delete("/image/".concat(e));t.ok?(Z.ZP.success("image deleted successfully"),n(l.filter(t=>t._id!=e))):Z.ZP.error("image delete unsuccessful, try again!")}};return(0,u.jsx)(C.Z,{hoverable:!0,style:{width:250,height:280,textAlign:"center"},onClick:()=>{s&&s(t._id),i&&i()},cover:(0,u.jsx)(L.default,{width:1e4,height:0,alt:"image",className:"h-[225px]",src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(t._id)}),children:"image"==a?(0,u.jsx)(O.Z,{style:{padding:"5px",backgroundColor:"white",color:"red",borderRadius:"100%",boxShadow:"2px 1px 3px "},onClick:()=>r(t._id)}):(0,u.jsx)(u.Fragment,{})})},F=()=>{let[e,t]=(0,h.useState)([]),[s,i]=(0,h.useState)(""),[l,n]=(0,h.useContext)(x.Pc);return(0,h.useEffect)(()=>{"view images"==l&&(async()=>{if("view images"==l){let{data:e}=await j.Z.get("/images");t(e)}})()},[l]),"view images"==l&&(null==e?void 0:e.toString())!="[]"?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"flex flex-wrap gap-4 justify-center max-h-[55vh]",children:null==e?void 0:e.map(l=>(0,u.jsx)(B,{image:l,images:e,setImages:t,clickedFrom:"image",imageIdToAdd:s,setImageIdToAdd:i},l._id))})}):(0,u.jsx)(u.Fragment,{})},z=s(98041),M=s(93922),V=s(70227),D=s(42214),q=s(38133),U=s(23705),G=s(32034),J=s(23288),W=s(27689),K=s(89687),Y=s(7703),Q=s(16455),$=s(87976),X=s(1139),ee=s(70425),et=s(78507),es=s(45719),ei=s(24196);let el=e=>{let{editor:t,showModal:s}=e;return t?(i=e=>{t.chain().focus().setImage({src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(e)}).run()},l=()=>{t.commands.setContent("<h1></h1>")},(0,u.jsxs)("div",{className:"flex gap-3 flex-wrap bg-[#000C17] text-white tiptap-menu justify-around py-[10px]",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(Q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)($.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(X.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(ee.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(et.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(es.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var en=()=>{let[e,t]=(0,h.useContext)(x.Pc),[s,n]=(0,h.useState)([]),[a,r]=(0,h.useState)(!1),[c,o]=(0,h.useState)(""),d=e=>{let t=e.target.attributes.category.value;o(t),Z.ZP.success("".concat(t," selected"))},g=[{label:(0,u.jsx)("div",{onClick:d,category:"evangelism",children:"Evangelistic Report"}),key:"0"},{label:(0,u.jsx)("div",{onClick:d,category:"teaching",children:"Teaching"}),key:"1"},{label:(0,u.jsx)("div",{onClick:d,category:"publication",children:"Publication"}),key:"2"}],v=async()=>{r(!0);let{data:e}=await j.Z.post("/post",{...m.getJSON(),html:m.getHTML(),category:c});(null==e?void 0:e.ok)?(Z.ZP.success("post created"),l(),o("")):Z.ZP.error("Error: ".concat(e.error)),r(!1)},[p,f]=(0,h.useState)(!1),b=()=>{f(!1)};(0,h.useEffect)(()=>{"Create Post"==e&&(async()=>{let{data:e}=await j.Z.get("/images");n(e)})()},[e]);let m=(0,U.jE)({extensions:[D.Z,z.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add some further context?"}}),V.ZP,q.Z.configure({types:["heading","paragraph"]}),M.ZP],content:"<h1></h1>"});return"Create Post"==e?(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(el,{editor:m,showModal:()=>{f(!0)}}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,u.jsxs)("div",{style:{padding:"1rem"},children:["Selected Post Category:"," ",(0,u.jsx)("span",{style:{background:"blue",padding:"5px",borderRadius:"6px"},children:c})]}),(0,u.jsx)(G.Z,{menu:{items:g},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),style:{padding:"1rem"},children:(0,u.jsxs)(J.Z,{children:["Select Post Category",(0,u.jsx)(ei.Z,{})]})})})]}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)(A.ZP,{className:"publish",onClick:v,loading:a,children:"submit"}),(0,u.jsx)(U.kg,{editor:m,style:{marginBottom:"50px"}}),(0,u.jsxs)(W.default,{title:"Image Getter",open:p,onOk:b,width:800,onCancel:()=>{f(!1)},children:[(0,u.jsx)(J.Z,{size:[8,16],wrap:!0,children:null==s?void 0:s.map(e=>(0,u.jsx)(B,{image:e,clickedFrom:"post",handleOk:b,addImage:i},e._id))}),(0,u.jsx)("hr",{})]})]})]}):(0,u.jsx)(u.Fragment,{})},ea=s(29572),er=s(20357);let ec=e=>{let{editor:t,showModal:s}=e;return t?(n=e=>{t.chain().focus().setImage({src:"".concat(er.env.NEXT_PUBLIC_API,"/image/").concat(e)}).run()},(0,u.jsxs)("div",{className:"flex gap-3 flex-wrap bg-[#000C17] text-white tiptap-menu justify-around py-[10px]",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(Q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)($.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(X.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(ee.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(et.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(es.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var eo=e=>{let{postID:t}=e,[s,i]=(0,h.useContext)(x.Pc),[l,r]=(0,h.useState)([]),[c,o]=(0,h.useState)(!1),[d,g]=(0,h.useState)(""),v=e=>{let t=e.target.attributes.category.value;g(t),Z.ZP.success("".concat(t," selected"))},p=[{label:(0,u.jsx)("div",{onClick:v,category:"evangelism",children:"Evangelistic Report"}),key:"0"},{label:(0,u.jsx)("div",{onClick:v,category:"teaching",children:"Teaching"}),key:"1"},{label:(0,u.jsx)("div",{onClick:v,category:"publication",children:"Publication"}),key:"2"}],f=async()=>{o(!0);let{data:e}=await j.Z.put("/post/".concat(t),{...a.getJSON(),html:a.getHTML(),category:d});(null==e?void 0:e.ok)?Z.ZP.success("post Edited successfully"):Z.ZP.error("Error: ".concat(e.error)),o(!1)},[b,m]=(0,h.useState)(!1),y=()=>{m(!1)};return(0,h.useEffect)(()=>{if("Edit Post"==s){let e=async()=>{let{data:e}=await j.Z.get("/post/".concat(t)),s=e.post.content;g(e.post.category),a=new ea.ML({content:s,extensions:[D.Z,z.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add some further context?"}}),V.ZP,q.Z.configure({types:["heading","paragraph"]}),M.ZP]})};(async()=>{let{data:e}=await j.Z.get("/images");r(e)})(),e()}},[s,t]),"Edit Post"==s?(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(ec,{editor:a,showModal:()=>{m(!0)}}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,u.jsxs)("div",{style:{padding:"1rem"},children:["Selected Post Category:"," ",(0,u.jsx)("span",{style:{background:"blue",padding:"5px",borderRadius:"6px"},children:d})]}),(0,u.jsx)(G.Z,{menu:{items:p},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),style:{padding:"1rem"},children:(0,u.jsxs)(J.Z,{children:["Select Post Category",(0,u.jsx)(ei.Z,{})]})})})]}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)(A.ZP,{className:"publish",onClick:f,loading:c,children:"Edit"}),(0,u.jsx)(U.kg,{editor:a,style:{width:"80%",marginBottom:"50px"}}),(0,u.jsxs)(W.default,{title:"Image Getter",open:b,width:800,onOk:y,onCancel:()=>{m(!1)},children:[(0,u.jsx)(J.Z,{size:[8,16],wrap:!0,children:null==l?void 0:l.map(e=>(0,u.jsx)(B,{image:e,clickedFrom:"post",handleOk:y,addImage:n},e._id))}),(0,u.jsx)("hr",{})]})]})]}):(0,u.jsx)(u.Fragment,{})},ed=()=>{let[e,t]=(0,h.useContext)(x.Pc),[s,i]=(0,h.useState)([]),[l,n]=(0,h.useState)(""),[a,r]=(0,h.useState)(1),[c,o]=(0,h.useState)([]);(0,h.useEffect)(()=>{"View Posts"==e&&(async()=>{let{data:e}=await j.Z.get("/posts");i(e),o(e.slice(0,10))})()},[e]);let d=async e=>{n(e.target.attributes.itemid.value),t("Edit Post")},g=async e=>{let t=e.target.attributes.itemid.value,i=s.filter(e=>e._id===t)[0].title,l=prompt('If you want to delete post "'.concat(i,"\", type 'sure' "));if((null==l?void 0:l.toLowerCase())==="sure"||(null==l?void 0:l.toLowerCase())==="'sure'"){let{data:e}=await j.Z.delete("/post/".concat(t));e._id?(Z.ZP.success("Post successfully deleted"),o(s.filter(t=>t._id!=e._id))):Z.ZP.error("$  {data.error}")}};return"View Posts"==e?(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Posts"}),(0,u.jsx)(v.Z,{itemLayout:"horizontal",dataSource:c,renderItem:e=>(0,u.jsx)(v.Z.Item,{children:(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,u.jsx)("div",{style:{width:"65%"},className:"line-clamp-3 capitalize",children:e.title}),(0,u.jsx)("p",{children:e.category}),(0,u.jsx)("button",{style:{color:"blue",cursor:"pointer "},onClick:d,itemID:e._id,children:"Edit"}),(0,u.jsx)("button",{style:{color:"red",cursor:"pointer "},onClick:g,itemID:e._id,children:"Delete"})]})})}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,u.jsx)(p.Z,{defaultCurrent:a,total:s.length,onChange:(e,t)=>{1==e?o(s.slice(0,t)):o(s.slice((e-1)*t,e*t))}})})]}):"Edit Post"==e?(0,u.jsx)(eo,{postID:l}):(0,u.jsx)(u.Fragment,{})},eu=s(3650),eh=s(71480);let{confirm:eg}=W.default;var ex=e=>{let{newTag:t,setNewTag:s,tags:i,setTags:l}=e,[n,a]=(0,h.useState)(""),[r,c]=(0,h.useState)(""),[o,d]=(0,h.useState)(!1),g=()=>{d(!0)},x=async()=>{d(!1);let{data:e}=await j.Z.put("/video/tag/".concat(r),{tag:n});e.error?Z.ZP.error("".concat(e.error)):(Z.ZP.success("Successfully changed the tag to ".concat(n)),l([...i.filter(e=>e._id!=r),e])),a(""),c("")};(0,h.useEffect)(()=>{(async()=>{let{data:e}=await j.Z.get("/video/tags");l(e.tags)})()},[l]),(0,h.useEffect)(()=>{""!=t&&(l([t,...i]),s(""))},[t,s,l,i]);let v=async e=>{g(),a(e.tag)},p=e=>{let t=async()=>{let{data:t}=await j.Z.delete("/video/tag/".concat(e._id));t.error?Z.ZP.error("".concat(t.error)):(l([...i.filter(e=>e._id!=t._id)]),Z.ZP.success("".concat(e.tag," successfully deleted")))};eg({content:"Delete Tag: ".concat(e.tag),onOk(){t()}})};return(0,u.jsxs)(u.Fragment,{children:[i.map(e=>(0,u.jsxs)(eu.Z,{color:"cyan",style:{fontSize:"1rem",margin:"5px"},children:[(0,u.jsx)(O.Z,{style:{color:"red",marginRight:"5px",cursor:"pointer"},onClick:()=>p(e)}),e.tag,(0,u.jsx)(eh.Z,{style:{color:"blue",marginRight:"5px",cursor:"pointer"},onClick:()=>{v(e),c(e._id)}})]},e._id)),(0,u.jsx)(W.default,{title:"Edit Tagname For Video(s)",open:o,onOk:x,okText:"Edit tag name",closeIcon:!1,onCancel:()=>{d(!1)},children:(0,u.jsx)(k.default,{value:n,onChange:e=>a(e.target.value)})})]})};let{TextArea:ej}=k.default;var ev=()=>{var e;let[t,s]=(0,h.useContext)(x.Pc),[i,l]=(0,h.useState)(""),[n,a]=(0,h.useState)(""),[r,c]=(0,h.useState)({title:"",link:"",tag:"",description:""}),[o,d]=(0,h.useState)([]),g=async()=>{let{data:e}=await j.Z.post("/video",{videoInfo:r});(null==e?void 0:e.error)?Z.ZP.error(e.error):(Z.ZP.success("This video has been successfully uploaded"),c({title:"",link:"",tag:"",description:""}))},v=async()=>{let{data:e}=await j.Z.post("/video/new_tag",{tagName:i});e.error?Z.ZP.error("".concat(e.error)):(a(e),Z.ZP.success("Tag successfully created"),l(""))};return"Add Videos"==t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{display:"flex",height:"110px",justifyContent:"space-between"},children:[(0,u.jsx)("div",{style:{width:"35%"},children:(0,u.jsxs)(J.Z.Compact,{style:{width:"100%"},children:[(0,u.jsx)(k.default,{placeholder:"Enter new tag name",value:i,onChange:e=>{l(e.target.value)}}),(0,u.jsx)(A.ZP,{type:"primary",onClick:v,children:"Create New Tag"})]})}),(0,u.jsxs)("div",{style:{width:"60%",borderTop:"5px solid black",borderLeft:"5px solid black"},children:[(0,u.jsx)("h2",{style:{textAlign:"right"},children:" Video Tags"}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{style:{overflowY:"scroll",height:"100px"},children:(0,u.jsx)(ex,{newTag:n,setNewTag:a,tags:o,setTags:d})})]})]}),(0,u.jsx)("div",{style:{marginTop:"85px"},children:(0,u.jsxs)("div",{children:[(0,u.jsx)(k.default,{style:{marginBottom:"5px"},placeholder:"Enter the title for the video",value:r.title,onChange:e=>c({...r,title:e.target.value})}),(0,u.jsx)(k.default,{style:{marginBottom:"5px"},placeholder:"Enter Youtube embed for the video",value:r.link,onChange:e=>c({...r,link:e.target.value})}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px"},children:[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,u.jsxs)("p",{children:["Seleted tag:"," ",(0,u.jsx)("span",{style:{background:"blue",color:"white",padding:"5px",borderRadius:"4px"},children:null===(e=o.filter(e=>e._id===r.tag)[0])||void 0===e?void 0:e.tag})]}),(0,u.jsx)(G.Z,{menu:{items:o.map(e=>({label:e.tag,key:e._id})),onClick:e=>c({...r,tag:e.key})},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),children:(0,u.jsxs)(J.Z,{children:["Select Video Tag",(0,u.jsx)(ei.Z,{})]})})})]}),(0,u.jsx)(ej,{rows:4,style:{width:"60%"},value:r.description,placeholder:"Enter the description for this video",onChange:e=>c({...r,description:e.target.value})}),(0,u.jsx)(A.ZP,{type:"primary",onClick:g,children:"Post video"})]})]})})]}):(0,u.jsx)(u.Fragment,{})};let{TextArea:ep}=k.default;var ef=e=>{var t;let{itemToBeEdited:s,videoInfo:i,setVideoInfo:l}=e,[n,a]=(0,h.useState)(""),[r,c]=(0,h.useState)(""),[o,d]=(0,h.useState)([]);(0,h.useEffect)(()=>{l({_id:s._id,title:s.title,link:s.embedlink,tag:s.tag._id,description:s.description})},[s,l]);let g=async()=>{let{data:e}=await j.Z.post("/video/new_tag",{tagName:n});e.error?Z.ZP.error("".concat(e.error)):(c(e),Z.ZP.success("Tag successfully created"),a(""))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{display:"flex",height:"110px",justifyContent:"space-between"},children:[(0,u.jsx)("div",{style:{width:"35%"},children:(0,u.jsxs)(J.Z.Compact,{style:{width:"100%"},children:[(0,u.jsx)(k.default,{placeholder:"Enter new tag name",value:n,onChange:e=>{a(e.target.value)}}),(0,u.jsx)(A.ZP,{type:"primary",onClick:g,children:"Create New Tag"})]})}),(0,u.jsxs)("div",{style:{width:"60%",borderTop:"5px solid black",borderLeft:"5px solid black"},children:[(0,u.jsx)("h2",{style:{textAlign:"right"},children:" Video Tags"}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{style:{overflowY:"scroll",height:"100px"},children:(0,u.jsx)(ex,{newTag:r,setNewTag:c,tags:o,setTags:d})})]})]}),(0,u.jsx)("div",{style:{marginTop:"85px"},children:(0,u.jsxs)("div",{children:[(0,u.jsx)(k.default,{style:{marginBottom:"5px"},placeholder:"Enter the title for the video",value:i.title,onChange:e=>l({...i,title:e.target.value})}),(0,u.jsx)(k.default,{style:{marginBottom:"5px"},placeholder:"Enter Youtube embed for the video",value:i.link,onChange:e=>l({...i,link:e.target.value})}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px"},children:[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,u.jsxs)("p",{children:["Seleted tag:"," ",(0,u.jsx)("span",{style:{background:"blue",color:"white",padding:"5px",borderRadius:"4px"},children:null===(t=o.filter(e=>e._id===i.tag)[0])||void 0===t?void 0:t.tag})]}),(0,u.jsx)(G.Z,{menu:{items:o.map(e=>({label:e.tag,key:e._id})),onClick:e=>l({...i,tag:e.key})},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),children:(0,u.jsxs)(J.Z,{children:["Select Video Tag",(0,u.jsx)(ei.Z,{})]})})})]}),(0,u.jsx)(ep,{rows:4,style:{width:"60%"},value:i.description,placeholder:"Enter the description for this video",onChange:e=>l({...i,description:e.target.value})})]})]})})]})};let{confirm:eb}=W.default;var em=()=>{let[e,t]=(0,h.useState)(!1),[s,i]=(0,h.useState)([]),[l,n]=(0,h.useState)({}),[a,r]=(0,h.useState)([]),[c,o]=(0,h.useState)({}),[d,g]=(0,h.useContext)(x.Pc),[b,m]=(0,h.useState)(!1);(0,h.useEffect)(()=>{"View Videos"==d&&(async()=>{let{data:e}=await j.Z.get("/videos");t(!1),i(e),r(e.slice(0,10))})()},[d]);let y=async()=>{m(!1);let{data:e}=await j.Z.put("/videos",{videoInfo:c});e.error?Z.ZP.error("".concat(e.error)):(r(e),Z.ZP.success("Video successfully updated"))},k=async e=>{n(e),m(!0)},C=async e=>{let t=async()=>{let{data:t}=await j.Z.delete("/video/".concat(e._id));t.error?Z.ZP.error("".concat(t.error)):(r([...a.filter(e=>e._id!=t._id)]),Z.ZP.success("".concat(t.title," successfully deleted")))};eb({content:"Delete Video: ".concat((0,f.Z)(e.title)),onOk(){t()}})};return"View Videos"==d?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{style:{position:"relative",bottom:0,minHeight:"80vh"},children:[(0,u.jsx)("h3",{style:{borderBottom:"2px solid black"},children:"Videos"}),(0,u.jsx)(v.Z,{className:"video-list",loading:e,itemLayout:"horizontal",dataSource:a,renderItem:(e,t)=>(0,u.jsxs)(v.Z.Item,{actions:[(0,u.jsx)("button",{style:{color:"blue",cursor:"pointer"},onClick:()=>k(e),children:"Edit"},"b".concat(t)),(0,u.jsx)("button",{style:{color:"red",cursor:"pointer"},onClick:()=>C(e),children:"Delete"},"bu".concat(t))],children:[(0,u.jsx)("h4",{style:{width:"50%"},children:(0,f.Z)(e.title)}),(0,u.jsx)("div",{style:{width:"20%"},children:(0,u.jsx)("span",{children:(0,f.Z)(e.tag.tag)})})]},t)}),(0,u.jsx)(W.default,{title:"Edit Video",open:b,onOk:y,width:900,okText:"Save",closeIcon:!1,onCancel:()=>{m(!1)},children:(0,u.jsx)(ef,{itemToBeEdited:l,videoInfo:c,setVideoInfo:o})}),(0,u.jsx)("div",{style:{position:"absolute",bottom:0,display:"flex",justifyContent:"center",width:"100%"},children:(0,u.jsx)(p.Z,{defaultCurrent:1,onChange:(e,t)=>{1==e?r(s.slice(0,t)):r(s.slice((e-1)*t,e*t))},pageSize:10,total:s.length,showSizeChanger:!1})})]})}):(0,u.jsx)(u.Fragment,{})};let{TextArea:ey}=k.default;var ek=()=>{var e,t,s,i,l,n,a,r,c,o,d,g,x,v,p,f,b,m,y,k,w;let[P,S]=(0,h.useState)({}),[N,T]=(0,h.useState)(!1);(0,h.useEffect)(()=>{var e;let t=async()=>{let{data:e}=await j.Z.get("/base_page/home");e.homeDetails&&S(e.homeDetails.home)};(null===(e=P.header)||void 0===e?void 0:e.h1)||t()},[P]);let _=async()=>{T(!0);let{data:e}=await j.Z.post("/base_page/home",{homeDetails:P});e.ok?Z.ZP.success("Post successfully submitted"):Z.ZP.error("Could not submit the post successfully, try again later!"),T(!1)};return(null===(e=P.header)||void 0===e?void 0:e.h1)&&(0,u.jsxs)("div",{children:[(0,u.jsxs)(J.Z,{direction:"vertical",size:24,children:[(0,u.jsx)(C.Z,{title:"BANNER IMAGE",style:{width:"70vw",background:"blue"},children:(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Banner Image Link Id:"}),(0,u.jsx)(ey,{placeholder:"paste image id",rows:1,value:null==P?void 0:P.banner_img,onChange:e=>S({...P,banner_img:e.target.value})})]})}),(0,u.jsxs)(C.Z,{title:"HEADER SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading One"}),(0,u.jsx)(ey,{rows:1,value:null===(t=P.header)||void 0===t?void 0:t.h1,disabled:!0,style:{color:"white "}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null==P?void 0:null===(s=P.header)||void 0===s?void 0:s.p,onChange:e=>S({...P,header:{...P.header,p:e.target.value}})})]})]}),(0,u.jsxs)(C.Z,{title:"WELCOME SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Two"}),(0,u.jsx)(ey,{rows:1,value:null===(i=P.welcome)||void 0===i?void 0:i.h2,disabled:!0,style:{color:"white "}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null===(l=P.welcome)||void 0===l?void 0:l.p,onChange:e=>S({...P,welcome:{...P.welcome,p:e.target.value}})})]})]}),(0,u.jsx)(C.Z,{title:"CARDS SECTION",style:{width:"70vw",background:"blue"},children:(0,u.jsxs)(J.Z,{direction:"vertical",children:[(0,u.jsxs)(C.Z,{title:"CARD 1",style:{width:"65vw"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ey,{rows:1,value:null===(n=P.cards[0])||void 0===n?void 0:n.h3,disabled:!0})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null===(a=P.cards[0])||void 0===a?void 0:a.p,onChange:e=>S({...P,cards:[{...P.cards[0],p:e.target.value},P.cards[1],P.cards[2]]})})]})]}),(0,u.jsxs)(C.Z,{title:"CARD 2",style:{width:"65vw"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ey,{rows:1,value:null===(r=P.cards[1])||void 0===r?void 0:r.h3,disabled:!0})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null===(c=P.cards[1])||void 0===c?void 0:c.p,onChange:e=>S({...P,cards:[P.cards[0],{...P.cards[1],p:e.target.value},P.cards[2]]})})]})]}),(0,u.jsxs)(C.Z,{title:"CARD 3",style:{width:"65vw"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ey,{rows:1,value:null===(o=P.cards[2])||void 0===o?void 0:o.h3,disabled:!0})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null===(d=P.cards[2])||void 0===d?void 0:d.p,onChange:e=>S({...P,cards:[P.cards[0],P.cards[1],{...P.cards[2],p:e.target.value}]})})]})]})]})}),(0,u.jsxs)(C.Z,{title:"SUPPORT SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Two"}),(0,u.jsx)(ey,{rows:1,value:null===(g=P.support)||void 0===g?void 0:g.h2,disabled:!0,style:{color:"white "}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null===(x=P.support)||void 0===x?void 0:x.h3,onChange:e=>S({...P,support:{...P.support,h3:e.target.value}})})]})]}),(0,u.jsxs)(C.Z,{title:"FINANCIAL SUPPORT SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ey,{rows:1,value:null===(p=P.support)||void 0===p?void 0:null===(v=p.financial)||void 0===v?void 0:v.h3,disabled:!0,style:{color:"white"}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null===(b=P.support)||void 0===b?void 0:null===(f=b.financial)||void 0===f?void 0:f.p,onChange:e=>S({...P,support:{...P.support,financial:{...P.support.financial,p:e.target.value}}})})]})]}),(0,u.jsxs)(C.Z,{title:"PRAYER SUPPORT SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ey,{rows:1,value:null===(y=P.support)||void 0===y?void 0:null===(m=y.prayer)||void 0===m?void 0:m.h3,disabled:!0,style:{color:"white"}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ey,{rows:4,value:null===(w=P.support)||void 0===w?void 0:null===(k=w.prayer)||void 0===k?void 0:k.p,onChange:e=>S({...P,support:{...P.support,prayer:{...P.support.prayer,p:e.target.value}}})})]})]})]}),(0,u.jsx)(A.ZP,{className:"publish",onClick:_,loading:N,children:"submit"})]})};let eZ=e=>{let{editor:t,showModal:s}=e;return t?(r=e=>{t.chain().focus().setImage({src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(e)}).run()},(0,u.jsxs)("div",{className:"flex gap-3 flex-wrap bg-[#000C17] text-white tiptap-menu justify-around py-[10px]",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(Q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)($.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(X.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(ee.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(et.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(es.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var eC=e=>{let{pageToEdit:t}=e,[s,i]=(0,h.useState)([]),[l,n]=(0,h.useState)(!1),a=async()=>{n(!0);let{data:e}=await j.Z.put("/base_page/point_man",{details:c.getHTML()});e.ok?Z.ZP.success("Page edited successfully"):Z.ZP.error("Error: ".concat(e.error)),n(!1)},[o,d]=(0,h.useState)(!1),g=()=>{d(!1)};return(0,h.useEffect)(()=>{let e=async()=>{let{data:e}=await j.Z.get("/images");i(e)},s=async()=>{let{data:e}=await j.Z.get("/base_page/point_man"),t=e.content.split("</h1>").filter(e=>"<h1>The Point Man"!=e).join("");c=new ea.ML({content:t,extensions:[D.Z,z.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add content for the 'poin man' page?"}}),V.ZP,q.Z.configure({types:["heading","paragraph"]}),M.ZP]})};"About Point Man"==t&&(e(),s())},[t]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(eZ,{editor:c,showModal:()=>{d(!0)}}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)(A.ZP,{className:"publish",onClick:a,loading:l,children:"Edit"}),(0,u.jsx)(U.kg,{editor:c,style:{marginBottom:"50px"}}),(0,u.jsxs)(W.default,{title:"Image Getter",open:o,width:800,onOk:g,onCancel:()=>{d(!1)},children:[(0,u.jsx)(J.Z,{size:[8,16],wrap:!0,children:null==s?void 0:s.map(e=>(0,u.jsx)(B,{image:e,clickedFrom:"post",handleOk:g,addImage:r},e._id))}),(0,u.jsx)("hr",{})]})]})]})})};let ew=e=>{let{editor:t,showModal:s}=e;return t?(o=e=>{t.chain().focus().setImage({src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(e)}).run()},(0,u.jsxs)("div",{className:"flex gap-3 flex-wrap bg-[#000C17] text-white tiptap-menu justify-around py-[10px]",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(Q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)($.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(X.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(ee.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(et.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(es.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var eP=e=>{let{pageToEdit:t}=e,[s,i]=(0,h.useState)([]),[l,n]=(0,h.useState)(!1),a=async()=>{n(!0);let{data:e}=await j.Z.put("/base_page/the_sgf",{details:d.getHTML()});e.ok?Z.ZP.success("Page edited successfully"):Z.ZP.error("Error: ".concat(e.error)),n(!1)},[r,c]=(0,h.useState)(!1),g=()=>{c(!1)};return(0,h.useEffect)(()=>{let e=async()=>{let{data:e}=await j.Z.get("/images");i(e)},s=async()=>{let{data:e}=await j.Z.get("/base_page/about_sgf"),t=e.content.split("</h1>").filter(e=>"<h1>About The Scripture Grace Foundation"!=e).join("");d=new ea.ML({content:t,extensions:[D.Z,z.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add content for the 'poin man' page?"}}),V.ZP,q.Z.configure({types:["heading","paragraph"]}),M.ZP]})};"About The SGF"==t&&(e(),s())},[t]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(ew,{editor:d,showModal:()=>{c(!0)}}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)(A.ZP,{className:"publish",onClick:a,loading:l,children:"Edit"}),(0,u.jsx)(U.kg,{editor:d,style:{marginBottom:"50px"}}),(0,u.jsxs)(W.default,{title:"Image Getter",open:r,width:800,onOk:g,onCancel:()=>{c(!1)},children:[(0,u.jsx)(J.Z,{size:[8,16],wrap:!0,children:null==s?void 0:s.map(e=>(0,u.jsx)(B,{image:e,clickedFrom:"post",handleOk:g,addImage:o},e._id))}),(0,u.jsx)("hr",{})]})]})]})})};let eA=e=>e.map(e=>JSON.stringify({[e[0]]:e[1]})).join(","),eS=e=>e.split(",").map(e=>{let t=[],s=JSON.parse(e);return t.push(Object.keys(s)[0]),t.push(s[Object.keys(s)[0]]),t}),{TextArea:eN}=k.default;var eT=e=>{let{pageToEdit:t}=e,[s,i]=(0,h.useState)({about_us:"",location:"",quick_links:[]}),[l,n]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=async()=>{let{data:e}=await j.Z.get("/base_page/footer_info");e.details&&i({...e.details.footer_info,quick_links:eA(e.details.footer_info.quick_links)})};"FooterInfo"==t&&e()},[t]);let a=async()=>{n(!0);try{let e=eS(s.quick_links),t={...s,quick_links:e},{data:i}=await j.Z.post("/base_page/footer_info",{details:t});i.ok?Z.ZP.success("Details successfully submitted"):Z.ZP.error("Could not successfully submit the details, try again later!")}catch(e){Z.ZP.error('The format of the "quick Links" section is incorrect. Note, it cannot be blank')}n(!1)};return(0,u.jsxs)("div",{children:[(0,u.jsxs)(J.Z,{direction:"vertical",size:24,children:[(0,u.jsxs)(C.Z,{title:"ABOUT US",style:{width:"70vw",background:"blue"},children:[(0,u.jsx)("br",{}),(0,u.jsx)(eN,{rows:4,value:s.about_us,onChange:e=>i({...s,about_us:e.target.value})})]}),(0,u.jsxs)(C.Z,{title:"OUR LOCATION",style:{width:"70vw",background:"blue"},children:[(0,u.jsx)("br",{}),(0,u.jsx)(eN,{rows:4,value:s.location,onChange:e=>i({...s,location:e.target.value})})]}),(0,u.jsxs)(C.Z,{title:"QUICK LINKS",style:{width:"70vw",background:"blue"},children:[(0,u.jsx)("br",{}),(0,u.jsx)(eN,{placeholder:'{"Link name": "Link URL"}, {"Link name": "Link URL"}',rows:4,value:s.quick_links,onChange:e=>i({...s,quick_links:e.target.value})})]})]}),(0,u.jsx)(A.ZP,{className:"publish",onClick:a,loading:l,children:"submit"})]})},e_=()=>{let[e,t]=(0,h.useContext)(x.Pc),[s,i]=(0,h.useState)("Home");return"Edit BasePages"==e?(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{style:{borderBottom:"1px solid black"},children:"Edit Page"}),(0,u.jsxs)("div",{style:{overflowY:"scroll",height:"82vh",marginTop:"15px"},children:[(0,u.jsxs)("div",{style:{display:"flex",marginBottom:"15px",justifyContent:"space-between"},children:[(0,u.jsxs)("span",{children:["Page Selected: ",(0,u.jsx)(A.ZP,{disabled:!0,children:s})]}),(0,u.jsx)(G.Z,{menu:{items:eE,onClick:e=>{switch(e.key){case"1":i("Home");break;case"2":i("About Point Man");break;case"3":i("About The SGF");break;case"4":i("FooterInfo")}}},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),children:(0,u.jsxs)(J.Z,{children:["Select Page To Edit",(0,u.jsx)(ei.Z,{})]})})})]}),"Home"==s&&(0,u.jsx)(ek,{}),"About Point Man"==s&&(0,u.jsx)(eC,{pageToEdit:s}),"About The SGF"==s&&(0,u.jsx)(eP,{pageToEdit:s}),"FooterInfo"==s&&(0,u.jsx)(eT,{pageToEdit:s})]})]}):(0,u.jsx)(u.Fragment,{})};let eE=[{key:"1",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"Home"})},{key:"2",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"About Point Man"})},{key:"3",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"About The SGF"})},{key:"4",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"Footer Info"})}],{TextArea:eI}=k.default;var eH=()=>{let[e,t]=(0,h.useContext)(x.Pc),[s,i]=(0,h.useState)(!1),[l,n]=(0,h.useState)("");(0,h.useEffect)(()=>{},[e]);let a=async()=>{i(!0);let{data:e}=await j.Z.post("/subscribers/mail",{mail:l});(null==e?void 0:e.ok)?(Z.ZP.success("Email sent to all subscribers"),n("")):Z.ZP.error("There was an error sending this mail, try again later."),i(!1)};return"broadcast"==e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(C.Z,{style:{width:"100%"},children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{style:{color:"gray",marginBottom:12},children:"Send all subscribers a mail?"}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)(eI,{rows:6,placeholder:"Enter a message to send",value:l,style:{fontSize:"1rem"},onChange:e=>n(e.target.value)})}),(0,u.jsx)("div",{style:{width:280,float:"right",marginTop:24},children:(0,u.jsx)(A.ZP,{block:!0,type:"primary",onClick:a,loading:s,children:"Send Mail"})})]})})})},eR=s(4442),eL=s(54357),eO=s(57834),eB=s(17046),eF=s(66762),ez=s(82082),eM=s(15630),eV=s(68560),eD=s(69358),eq=s(16384),eU=s(25057),eG=s(44979);let{Header:eJ,Content:eW,Footer:eK,Sider:eY}=eq.default;function eQ(e,t,s,i){return{key:t,icon:s,children:i,label:e}}let e$=[eQ("Posts","sub1",(0,u.jsx)(eR.Z,{}),[eQ("Create Post","1",(0,u.jsx)(eL.Z,{})),eQ("View Posts","2",(0,u.jsx)(eO.Z,{}))]),eQ("Edit BasePages","3",(0,u.jsx)(eh.Z,{})),eQ("Images","sub2",(0,u.jsx)(X.Z,{}),[eQ("Add Image","4",(0,u.jsx)(eB.Z,{})),eQ("View Image","5",(0,u.jsx)(eO.Z,{}))]),eQ("Videos","sub3",(0,u.jsx)(eF.Z,{}),[eQ("Add Videos","6",(0,u.jsx)(ez.Z,{})),eQ("View Videos","7",(0,u.jsx)(eO.Z,{}))]),eQ("Subscribers","8",(0,u.jsx)(eM.Z,{})),eQ("Broadcast Message","9",(0,u.jsx)(eV.Z,{})),eQ("Logout","10",(0,u.jsx)(eD.Z,{}))];var eX=()=>{let e=window.innerWidth,[t,s]=(0,h.useState)(!1),[i,l]=(0,h.useState)(""),[n,a]=(0,h.useContext)(x.Pc),r=(0,g.useRouter)();(0,h.useEffect)(()=>{e<=580&&s(!0)},[e]);let{token:{colorBgContainer:c}}=eU.Z.useToken(),o=async e=>{switch(e.key){case"1":a("Create Post");break;case"2":a("View Posts");break;case"3":a("Edit BasePages");break;case"4":a("add image");break;case"5":a("view images");break;case"6":a("Add Videos");break;case"7":a("View Videos");break;case"8":a("subscribers");break;case"9":a("broadcast");break;case"10":localStorage.removeItem("auth"),r.push("/signin")}};return(0,u.jsxs)(eq.default,{style:{minHeight:"100vh"},children:[(0,u.jsxs)(eY,{collapsible:!0,collapsed:t,onCollapse:e=>s(e),children:[(0,u.jsx)("div",{className:"demo-logo-vertical"}),(0,u.jsx)(eG.Z,{theme:"dark",defaultSelectedKeys:[],mode:"inline",onClick:o,items:e$})]}),(0,u.jsx)(eq.default,{children:(0,u.jsxs)(eW,{className:"overflow-auto mt-[24px] mx-[16px]",children:[(0,u.jsx)(b,{setSubscriberId:l}),(0,u.jsx)(E,{subscriberId:i}),(0,u.jsx)(R,{}),(0,u.jsx)(F,{}),(0,u.jsx)(en,{}),(0,u.jsx)(ed,{}),(0,u.jsx)(ev,{}),(0,u.jsx)(em,{}),(0,u.jsx)(e_,{}),(0,u.jsx)(eH,{})]})})]})},e0=s(25262),e1=()=>{let e=(0,g.useRouter)();return(0,h.useEffect)(()=>{localStorage.getItem("auth")&&JSON.parse(localStorage.getItem("auth")).user._id?(0,e0.GJ)():e.push("/signin")},[e]),(0,u.jsx)(x.Qz,{children:(0,u.jsx)(eX,{})})}},70571:function(e,t,s){"use strict";s.d(t,{E:function(){return r}});var i=s(57437),l=s(2265),n=s(73730),a=s(37440);let r=l.forwardRef((e,t)=>{let{className:s,value:l,...r}=e;return(0,i.jsx)(n.fC,{ref:t,className:(0,a.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...r,children:(0,i.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});r.displayName=n.fC.displayName},100:function(e,t,s){"use strict";s.d(t,{BasicContentProvider:function(){return x},Ho:function(){return h},Kb:function(){return j},Lq:function(){return d},Pc:function(){return c},PostsProvider:function(){return v},Qz:function(){return g},Vo:function(){return r},kZ:function(){return u},pl:function(){return o}});var i=s(57437),l=s(2265),n=s(38472),a=s(16463);let r=(0,l.createContext)(),c=(0,l.createContext)(),o=(0,l.createContext)(),d=(0,l.createContext)(),u=(0,l.createContext)(),h=e=>{let{children:t}=e,[s,c]=(0,l.useState)({user:null,token:""}),o=(0,a.useRouter)();return(0,l.useEffect)(()=>{if(localStorage.getItem("auth")){let e=JSON.parse(localStorage.getItem("auth"));s.token||c(e),n.Z.defaults.headers.common.Authorization="Bearer ".concat(e.token)}},[s]),n.Z.defaults.baseURL="https://api.scripturegracefoundation.org/api",n.Z.interceptors.response.use(function(e){return e},function(e){let t=e.response;return(null==t?void 0:t.status)===401&&(null==t?void 0:t.config)&&!(null==t?void 0:t.config.__isRetryRequest)&&(c({user:null,token:""}),localStorage.removeItem("auth"),o.push("/signin")),e}),(0,i.jsx)(r.Provider,{value:[s,c],children:t})},g=e=>{let{children:t}=e,[s,n]=(0,l.useState)("");return(0,i.jsx)(c.Provider,{value:[s,n],children:t})},x=e=>{let{children:t}=e,[s,n]=(0,l.useState)({});return(0,i.jsx)(u.Provider,{value:[s,n],children:t})},j=e=>{let{children:t}=e,[s,n]=(0,l.useState)(!1);return(0,i.jsx)(o.Provider,{value:[s,n],children:t})},v=e=>{let{children:t}=e,[s,n]=(0,l.useState)([]);return(0,i.jsx)(d.Provider,{value:[s,n],children:t})}},59549:function(e,t){"use strict";t.Z=e=>{if("string"==typeof e)return e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},81813:function(e,t,s){"use strict";var i=s(2265);t.Z=(e,t)=>{let s=(0,i.useRef)();(0,i.useEffect)(()=>{s.current=e},[e]),(0,i.useEffect)(()=>{if(0!==t){let e=setInterval(()=>{s.current()},t);return()=>clearInterval(e)}},[t])}},37440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var i=s(44839),l=s(96164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,i.W)(t))}}},function(e){e.O(0,[3572,7902,6990,9236,1463,1675,8723,9414,8421,4868,4183,3742,4274,1263,6286,8070,9412,8569,6648,7185,559,2971,7023,1744],function(){return e(e.s=68348)}),_N_E=e.O()}]);