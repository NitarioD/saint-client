(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8946],{32217:function(e,t,r){Promise.resolve().then(r.bind(r,16796))},16796:function(e,t,r){"use strict";r.r(t);var c=r(57437),s=r(16463),n=r(58569),o=r(56286),a=r(46682),l=r(38472),u=r(2265);t.default=()=>{let e=(0,s.useRouter)(),[t,r]=(0,u.useState)(""),[i,d]=(0,u.useState)(!1),[f,m]=(0,u.useState)(!1),[h,b]=(0,u.useState)(""),x=async()=>{m(!0);let{data:e}=await l.Z.get("/subscriber/".concat(h));(null==e?void 0:e.error)?n.ZP.error("".concat(e.error)):(null==e?void 0:e.ok)&&(n.ZP.success("Unsubscribe code successfully sent to your email. Please enter the code to unsubscribe"),d(!0)),m(!1)},g=async()=>{m(!0);let{data:r}=await l.Z.post("/unsubscribe/".concat(h),{unsubscribeCode:t});(null==r?void 0:r.error)?n.ZP.error("".concat(r.error)):(null==r?void 0:r.ok)&&(n.ZP.success("You have successfully unsubscribed from our community, you will no longer be getting mails from us."),e.push("/")),m(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h2",{className:"p-[10px] text-center text-[1.6rem]",children:"We are sorry to see you go"}),(0,c.jsx)("form",{children:(0,c.jsxs)("div",{className:"min-h-[50vh] p-[10px] flex gap-5  justify-center items-center",children:[(0,c.jsx)("p",{className:"text-[1.3rem]",children:"Proceed to unsubscribe from our community"}),(0,c.jsxs)("div",{className:"flex flex-col justify-center gap-5",children:[i?(0,c.jsx)(o.default,{placeholder:"Enter the code sent to your email",name:"code",style:{width:"500px"},value:t,onChange:e=>r(e.target.value)}):(0,c.jsx)(o.default,{placeholder:"Email",name:"email",autoComplete:"email",style:{width:"500px"},value:h,onChange:e=>b(e.target.value)}),i?(0,c.jsx)(a.ZP,{block:!0,style:{background:"red",color:"white"},onClick:g,loading:f,children:"Unsubscribe"}):(0,c.jsx)(a.ZP,{block:!0,type:"primary",onClick:x,loading:f,children:"Get unSubscribe code"})]})]})})]})}},98244:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var c=r(22988),s=r(2265),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},o=r(25636),a=s.forwardRef(function(e,t){return s.createElement(o.Z,(0,c.Z)({},e,{ref:t,icon:n}))})},7976:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var c=r(22988),s=r(2265),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},o=r(25636),a=s.forwardRef(function(e,t){return s.createElement(o.Z,(0,c.Z)({},e,{ref:t,icon:n}))})}},function(e){e.O(0,[9236,1463,1675,8723,4183,6286,8569,2971,7023,1744],function(){return e(e.s=32217)}),_N_E=e.O()}]);