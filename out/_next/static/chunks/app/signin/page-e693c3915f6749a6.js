(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4281],{45522:function(e,t,n){Promise.resolve().then(n.bind(n,10919))},10919:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(57437),s=n(2265),a=n(15630),i=n(22988),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},c=n(25636),u=s.forwardRef(function(e,t){return s.createElement(c.Z,(0,i.Z)({},e,{ref:t,icon:o}))}),l=n(22521),f=n(77733),d=n(95381),h=n(73454),m=n(56286),x=n(78421),p=n(46682),g=n(95956),v=n(16463),j=n(100),S=n(38472),Z=()=>{let[e,t]=(0,s.useState)({email:"",password:""}),[n,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[Z,C]=(0,s.useContext)(j.Vo),k=(0,v.useRouter)(),y=async()=>{i(!0);let{data:t}=await S.Z.post("/login",e);if(t.error)g.Am.error(t.error),i(!1);else{localStorage.setItem("auth",JSON.stringify(t)),C({user:t.user,token:t.token}),g.Am.success("Succesfully logged in");let e=t.user.role;"admin"===e?k.push("/admin"):"user"===e&&k.push("/"),i(!1)}},w=n=>{t({...e,[n.target.name]:n.target.value})};return(0,r.jsx)("div",{className:"flex items-center justify-center h-[86vh]",children:(0,r.jsxs)("div",{className:"w-[700px]",children:[(0,r.jsx)("h2",{className:"text-blue-950 text-[1.5rem] text-center mb-[30px]",children:"Login"}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(d.Z,{span:8,offset:8,children:(0,r.jsxs)(h.Z,{name:"normal_login",className:"login-form",children:[(0,r.jsx)(h.Z.Item,{children:(0,r.jsx)(m.default,{prefix:(0,r.jsx)(a.Z,{className:"site-form-item-icon"}),placeholder:"email",name:"email",value:e.email,onChange:w,style:{fontSize:"20px"}})}),(0,r.jsx)(h.Z.Item,{children:(0,r.jsx)(m.default,{prefix:(0,r.jsx)(u,{className:"site-form-item-icon"}),type:"password",name:"password",placeholder:"Password",value:e.password,onChange:w,style:{fontSize:"20px"}})}),(0,r.jsx)(h.Z.Item,{children:(0,r.jsxs)("a",{style:{float:"right",fontSize:"1rem"},onClick:()=>{k.push("/signup"),c(!0)},children:[(0,r.jsx)(x.Z,{spinning:o}),(0,r.jsxs)("i",{style:{marginRight:"12px"},children:["Signup ",(0,r.jsx)(l.Z,{})]})]})}),(0,r.jsx)(h.Z.Item,{children:(0,r.jsx)(p.ZP,{type:"primary",className:"px-7 py-3",style:{fontSize:"20px"},onClick:y,loading:n,children:"Log in"})})]})})})]})})}},100:function(e,t,n){"use strict";n.d(t,{BasicContentProvider:function(){return m},Ho:function(){return d},Kb:function(){return x},Lq:function(){return l},Pc:function(){return c},PostsProvider:function(){return p},Qz:function(){return h},Vo:function(){return o},kZ:function(){return f},pl:function(){return u}});var r=n(57437),s=n(2265),a=n(38472),i=n(16463);let o=(0,s.createContext)(),c=(0,s.createContext)(),u=(0,s.createContext)(),l=(0,s.createContext)(),f=(0,s.createContext)(),d=e=>{let{children:t}=e,[n,c]=(0,s.useState)({user:null,token:""}),u=(0,i.useRouter)();return(0,s.useEffect)(()=>{if(localStorage.getItem("auth")){let e=JSON.parse(localStorage.getItem("auth"));n.token||c(e),a.Z.defaults.headers.common.Authorization="Bearer ".concat(e.token)}},[n]),a.Z.defaults.baseURL="https://api.scripturegracefoundation.org/api",a.Z.interceptors.response.use(function(e){return e},function(e){let t=e.response;return(null==t?void 0:t.status)===401&&(null==t?void 0:t.config)&&!(null==t?void 0:t.config.__isRetryRequest)&&(c({user:null,token:""}),localStorage.removeItem("auth"),u.push("/signin")),e}),(0,r.jsx)(o.Provider,{value:[n,c],children:t})},h=e=>{let{children:t}=e,[n,a]=(0,s.useState)("");return(0,r.jsx)(c.Provider,{value:[n,a],children:t})},m=e=>{let{children:t}=e,[n,a]=(0,s.useState)({});return(0,r.jsx)(f.Provider,{value:[n,a],children:t})},x=e=>{let{children:t}=e,[n,a]=(0,s.useState)(!1);return(0,r.jsx)(u.Provider,{value:[n,a],children:t})},p=e=>{let{children:t}=e,[n,a]=(0,s.useState)([]);return(0,r.jsx)(l.Provider,{value:[n,a],children:t})}},15630:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(22988),s=n(2265),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},i=n(25636),o=s.forwardRef(function(e,t){return s.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))})}},function(e){e.O(0,[9236,1463,1675,8723,9414,8421,6286,9412,5956,4983,2971,7023,1744],function(){return e(e.s=45522)}),_N_E=e.O()}]);