(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{58195:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(43635)}])},39104:function(e,t){"use strict";t.Z=e=>{if("string"==typeof e){let t=e.split(" "),s=t.map(e=>{let t=e.charAt(0).toUpperCase();return t+e.slice(1)});return s.join(" ")}}},79672:function(e,t,s){"use strict";function __WEBPACK_DEFAULT_EXPORT__(e,t){if("string"!=typeof e&&"number"!=typeof t)return;if(e.length<=t)return e;let s=e.slice(0,t)+"...";return s}s.d(t,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}})},43635:function(e,t,s){"use strict";let i,l,a,n,c,r,o,d;s.r(t),s.d(t,{default:function(){return admin}});var u=s(85893),h=s(5121),g=s(67294),x=s(11163),j=s(56497),v=s(56590),p=s(69843),m=s(39104),getSubscribers=e=>{let{setSubscriberId:t}=e,[s,i]=(0,g.useState)([]),[l,a]=(0,g.useState)([]),[n,c]=(0,g.useContext)(j.Pc),[r,o]=(0,g.useState)(1);return(0,g.useEffect)(()=>{let getUsers=async()=>{if("subscribers"==n){let{data:e}=await h.Z.get("/subscribers");i(null==e?void 0:e.subscribers),a(null==e?void 0:e.subscribers.slice(0,10))}};getUsers()},[n]),"subscribers"==n?(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Subscribers"}),(0,u.jsx)(v.Z,{itemLayout:"horizontal",dataSource:l,renderItem:(e,s)=>(0,u.jsxs)(v.Z.Item,{actions:[(0,u.jsx)("a",{onClick:()=>{c("subscriber"),t(e._id)},children:"view subscriber"},"list-loadmore-more")],children:[(0,u.jsxs)("div",{style:{width:"40%"},children:[(0,m.Z)(e.fname)," ",(0,m.Z)(e.lname)]}),(0,u.jsx)(v.Z.Item.Meta,{description:"".concat(e.email)})]})}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,u.jsx)(p.default,{pageSize:10,defaultCurrent:r,total:s.length,onChange:(e,t)=>{1==e?a(s.slice(0,t)):a(s.slice((e-1)*t,e*t))}})})]}):(0,u.jsx)(u.Fragment,{})},b=s(30381),f=s.n(b),y=s(70302),k=s(55673),C=s(5789),w=s(51024),Z=s(65400),A=s.n(Z),P=s(11187),S=s(24732),T=s(94119);let{TextArea:_}=w.default,N=[{key:"subscriber_information",label:"Subscriber information"},{key:"send_email",label:"Send Subscriber A Mail"}];var getSubscriber=e=>{let{subscriberId:t}=e,[s,i]=(0,g.useContext)(j.Pc),[l,a]=(0,g.useState)(!1),[n,c]=(0,g.useState)("subscriber_information"),[r,o]=(0,g.useState)(""),[d,x]=(0,g.useState)({fname:"",lname:"",email:"",phone:""}),v={color:"gray"},onTabChange=e=>{c(e)};(0,g.useEffect)(()=>{let toggleAction=async()=>{if("subscriber"==s&&"subscriber_information"==n){let{data:e}=await h.Z.get("/subscribers/".concat(t));x(e)}};toggleAction()},[s,n]);let handleSendMail=async()=>{a(!0);let{data:e}=await h.Z.post("/subscriber/mail/".concat(d.email),{mail:r});(null==e?void 0:e.ok)?(P.ZP.success("Email sent to ".concat((0,m.Z)(d.fname))),o(""),c("subscriber_information")):P.ZP.error("There was an error sending this mail, it is possible the subscriber's email address is not functional. Regardless, try again later."),a(!1)};return"subscriber"==s?"subscriber_information"==n?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(y.Z,{style:{width:"100%"},tabList:N,activeTabKey:n,onTabChange:onTabChange,tabProps:{size:"middle"},children:(0,u.jsxs)(y.Z,{children:[(0,u.jsx)(y.Z.Meta,{title:"NAME: ".concat((0,m.Z)(d.fname)," ").concat((0,m.Z)(d.lname)),description:"Date of Subscription: ".concat(f()(d.createdAt))}),(0,u.jsxs)(k.Z,{style:{...v,marginTop:"20px"},children:[(0,u.jsx)(C.Z,{span:6,children:"Firstname"}),(0,u.jsx)("br",{}),(0,u.jsx)(C.Z,{span:18,children:(0,m.Z)(d.fname)})]}),(0,u.jsxs)(k.Z,{style:v,children:[(0,u.jsx)(C.Z,{span:6,children:"Lastname"}),(0,u.jsx)("br",{}),(0,u.jsx)(C.Z,{span:18,children:(0,m.Z)(d.lname)})]}),(0,u.jsxs)(k.Z,{style:v,children:[(0,u.jsx)(C.Z,{span:6,children:(0,u.jsx)(T.Z,{})}),(0,u.jsx)("br",{}),(0,u.jsx)(C.Z,{span:18,children:d.email})]}),(0,u.jsxs)(k.Z,{style:v,children:[(0,u.jsx)(C.Z,{span:6,children:(0,u.jsx)(S.Z,{})}),(0,u.jsx)("br",{}),(0,u.jsx)(C.Z,{span:18,children:d.phone})]})]})})}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(y.Z,{style:{width:"100%"},tabList:N,activeTabKey:n,onTabChange:onTabChange,tabProps:{size:"middle"},children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{style:{color:"gray",marginBottom:12},children:["Send ",(0,m.Z)(d.fname)," a mail?"]}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)(_,{rows:6,placeholder:"Enter a message to send",value:r,style:{fontSize:"1rem"},onChange:e=>o(e.target.value)})}),(0,u.jsx)("div",{style:{width:280,float:"right",marginTop:24},children:(0,u.jsx)(A(),{block:!0,type:"primary",onClick:handleSendMail,loading:l,children:"Send Mail"})})]})})}):(0,u.jsx)(u.Fragment,{})},uploadImage=()=>{let[e,t]=(0,g.useContext)(j.Pc),[s,i]=(0,g.useContext)(j.Vo),handleSelect=async e=>{var t;let s=e.target.files[0];if((null==s?void 0:null===(t=s.type)||void 0===t?void 0:t.split("/")[0])!="image")return P.ZP.error("Upload an image file");let i=new FormData;i.append("image",s);let{data:l}=await h.Z.post("/image",i);l.ok?P.ZP.success("succesfully upoladed ".concat(s.name)):P.ZP.error(l.error)};return"add image"==e?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("input",{type:"file",accept:"image/*",name:"image",onChange:handleSelect})}):(0,u.jsx)(u.Fragment,{})},E=s(74048),I=s(19702),getImageComponent=e=>{let{image:t,addImage:s,handleOk:i,images:l,setImages:a,clickedFrom:n}=e,handleDelete=async e=>{let t=confirm("Are you sure you want to delete?");if(t){let{data:t}=await h.Z.delete("/image/".concat(e));if(t.ok){P.ZP.success("image deleted successfully");let t=l.filter(t=>t._id!=e);a(t)}else P.ZP.error("image delete unsuccessful, try again!")}};return(0,u.jsx)(y.Z,{hoverable:!0,style:{width:200,height:280,textAlign:"center"},onClick:()=>{s&&s(t._id),i&&i()},cover:(0,u.jsx)("img",{alt:"example",height:220,src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(t._id)}),children:"image"==n?(0,u.jsx)(I.Z,{style:{padding:"5px",backgroundColor:"white",color:"red",borderRadius:"100%",boxShadow:"2px 1px 3px "},onClick:()=>handleDelete(t._id)}):(0,u.jsx)(u.Fragment,{})})},viewImages=()=>{let[e,t]=(0,g.useState)([]),[s,i]=(0,g.useState)(""),[l,a]=(0,g.useContext)(j.Pc);return(0,g.useEffect)(()=>{if("view images"==l){let getImages=async()=>{if("view images"==l){let{data:e}=await h.Z.get("/images");t(e)}};getImages()}},[l]),"view images"==l&&(null==e?void 0:e.toString())!="[]"?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(E.default,{size:[8,16],wrap:!0,children:null==e?void 0:e.map(l=>(0,u.jsx)(getImageComponent,{image:l,images:e,setImages:t,clickedFrom:"image",imageIdToAdd:s,setImageIdToAdd:i},l._id))})}):(0,u.jsx)(u.Fragment,{})},H=s(93237),O=s(96575),L=s(50601),B=s(54929),R=s(96279),M=s(71284),F=s(56697),D=s(77834),V=s(15737),z=s(53598),q=s(22696),U=s(407),G=s(76635),W=s(46440),K=s(43088),Y=s(6943),J=s(76720);let MenuBar=e=>{let{editor:t,showModal:s}=e;return t?(i=e=>{t.chain().focus().setImage({src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(e)}).run()},l=()=>{t.commands.setContent("<h1></h1>")},(0,u.jsxs)("div",{className:"tiptap-menu",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(U.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(V.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)(z.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(G.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(W.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var createPost=()=>{let[e,t]=(0,g.useContext)(j.Pc),[s,a]=(0,g.useState)([]),[n,c]=(0,g.useState)(""),handleCategorySelection=e=>{let t=e.target.attributes.category.value;c(t),P.ZP.success("".concat(t," selected"))},r=[{label:(0,u.jsx)("div",{onClick:handleCategorySelection,category:"evangelism",children:"Evangelistic Report"}),key:"0"},{label:(0,u.jsx)("div",{onClick:handleCategorySelection,category:"teaching",children:"Teaching"}),key:"1"},{label:(0,u.jsx)("div",{onClick:handleCategorySelection,category:"publication",children:"Publication"}),key:"2"}],handleSubmit=async()=>{let{data:e}=await h.Z.post("/post",{...x.getJSON(),html:x.getHTML(),category:n});(null==e?void 0:e.ok)?(P.ZP.success("post created"),l(),c("")):P.ZP.error("Error: ".concat(e.error))},[o,d]=(0,g.useState)(!1),handleOk=()=>{d(!1)};(0,g.useEffect)(()=>{if("Create Post"==e){let getImages=async()=>{let{data:e}=await h.Z.get("/images");a(e)};getImages()}},[e]);let x=(0,M.jE)({extensions:[B.Z,H.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add some further context?"}}),L.ZP,R.Z.configure({types:["heading","paragraph"]}),O.ZP],content:"<h1></h1>"});return"Create Post"==e?(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(MenuBar,{editor:x,showModal:()=>{d(!0)}}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,u.jsxs)("div",{style:{padding:"1rem"},children:["Selected Post Category:"," ",(0,u.jsx)("span",{style:{background:"blue",padding:"5px",borderRadius:"6px"},children:n})]}),(0,u.jsx)(D.Z,{menu:{items:r},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),style:{padding:"1rem"},children:(0,u.jsxs)(E.default,{children:["Select Post Category",(0,u.jsx)(J.default,{})]})})})]}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)("button",{className:"publish",onClick:handleSubmit,children:"submit"}),(0,u.jsx)(M.kg,{editor:x,style:{width:"80%",marginBottom:"50px"}}),(0,u.jsxs)(F.default,{title:"Image Getter",open:o,onOk:handleOk,width:800,onCancel:()=>{d(!1)},children:[(0,u.jsx)(E.default,{size:[8,16],wrap:!0,children:null==s?void 0:s.map(e=>(0,u.jsx)(getImageComponent,{image:e,clickedFrom:"post",handleOk:handleOk,addImage:i},e._id))}),(0,u.jsx)("hr",{})]})]})]}):(0,u.jsx)(u.Fragment,{})},X=s(79672),Q=s(42752);let editPost_MenuBar=e=>{let{editor:t,showModal:s}=e;return t?(a=e=>{t.chain().focus().setImage({src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(e)}).run()},(0,u.jsxs)("div",{className:"tiptap-menu",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(U.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(V.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)(z.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(G.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(W.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var editPost=e=>{let{postID:t}=e,[s,i]=(0,g.useContext)(j.Pc),[l,c]=(0,g.useState)([]),[r,o]=(0,g.useState)(""),handleCategorySelection=e=>{let t=e.target.attributes.category.value;o(t),P.ZP.success("".concat(t," selected"))},d=[{label:(0,u.jsx)("div",{onClick:handleCategorySelection,category:"evangelism",children:"Evangelistic Report"}),key:"0"},{label:(0,u.jsx)("div",{onClick:handleCategorySelection,category:"teaching",children:"Teaching"}),key:"1"},{label:(0,u.jsx)("div",{onClick:handleCategorySelection,category:"publication",children:"Publication"}),key:"2"}],handleEdit=async()=>{let{data:e}=await h.Z.put("/post/".concat(t),{...n.getJSON(),html:n.getHTML(),category:r});(null==e?void 0:e.ok)?P.ZP.success("post Edited successfully"):P.ZP.error("Error: ".concat(e.error))},[x,v]=(0,g.useState)(!1),handleOk=()=>{v(!1)};return(0,g.useEffect)(()=>{if("Edit Post"==s){let getImages=async()=>{let{data:e}=await h.Z.get("/images");c(e)},getPost=async()=>{let{data:e}=await h.Z.get("/post/".concat(t)),s=e.post.content;o(e.post.category),n=new Q.ML({content:s,extensions:[B.Z,H.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add some further context?"}}),L.ZP,R.Z.configure({types:["heading","paragraph"]}),O.ZP]})};getImages(),getPost()}},[s]),"Edit Post"==s?(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(editPost_MenuBar,{editor:n,showModal:()=>{v(!0)}}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,u.jsxs)("div",{style:{padding:"1rem"},children:["Selected Post Category:"," ",(0,u.jsx)("span",{style:{background:"blue",padding:"5px",borderRadius:"6px"},children:r})]}),(0,u.jsx)(D.Z,{menu:{items:d},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),style:{padding:"1rem"},children:(0,u.jsxs)(E.default,{children:["Select Post Category",(0,u.jsx)(J.default,{})]})})})]}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)("button",{className:"publish",onClick:handleEdit,children:"Edit"}),(0,u.jsx)(M.kg,{editor:n,style:{width:"80%",marginBottom:"50px"}}),(0,u.jsxs)(F.default,{title:"Image Getter",open:x,width:800,onOk:handleOk,onCancel:()=>{v(!1)},children:[(0,u.jsx)(E.default,{size:[8,16],wrap:!0,children:null==l?void 0:l.map(e=>(0,u.jsx)(getImageComponent,{image:e,clickedFrom:"post",handleOk:handleOk,addImage:a},e._id))}),(0,u.jsx)("hr",{})]})]})]}):(0,u.jsx)(u.Fragment,{})},viewPosts=()=>{let[e,t]=(0,g.useContext)(j.Pc),[s,i]=(0,g.useState)([]),[l,a]=(0,g.useState)(""),[n,c]=(0,g.useState)(1),[r,o]=(0,g.useState)([]);(0,g.useEffect)(()=>{if("View Posts"==e){let postsGetter=async()=>{let{data:e}=await h.Z.get("/posts");i(e),o(e.slice(0,10))};postsGetter()}},[e]);let handleEdit=async e=>{let s=e.target.attributes.itemid.value;a(s),t("Edit Post")},handleDelete=async e=>{let t=e.target.attributes.itemid.value,i=s.filter(e=>e._id===t)[0].title,l=prompt('If you want to delete post "'.concat(i,"\", type 'sure' "));if((null==l?void 0:l.toLowerCase())==="sure"||(null==l?void 0:l.toLowerCase())==="'sure'"){let{data:e}=await h.Z.delete("/post/".concat(t));e._id?(P.ZP.success("Post successfully deleted"),o(s.filter(t=>t._id!=e._id))):P.ZP.error("$  {data.error}")}};return"View Posts"==e?(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Posts"}),(0,u.jsx)(v.Z,{itemLayout:"horizontal",dataSource:r,renderItem:e=>(0,u.jsx)(v.Z.Item,{children:(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,u.jsx)("div",{style:{width:"65%"},children:(0,m.Z)((0,X.Z)(e.title,60))}),(0,u.jsx)("p",{children:e.category}),(0,u.jsx)("button",{style:{color:"blue",cursor:"pointer "},onClick:handleEdit,itemID:e._id,children:"Edit"}),(0,u.jsx)("button",{style:{color:"red",cursor:"pointer "},onClick:handleDelete,itemID:e._id,children:"Delete"})]})})}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,u.jsx)(p.default,{defaultCurrent:n,total:s.length,onChange:(e,t)=>{1==e?o(s.slice(0,t)):o(s.slice((e-1)*t,e*t))}})})]}):"Edit Post"==e?(0,u.jsx)(editPost,{postID:l}):(0,u.jsx)(u.Fragment,{})},$=s(59361),ee=s(58452);let{confirm:et}=F.default;var admin_tags=e=>{let{newTag:t,setNewTag:s,tags:i,setTags:l}=e,[a,n]=(0,g.useState)(""),[c,r]=(0,g.useState)(""),[o,d]=(0,g.useState)(!1),showModal=()=>{d(!0)},handleEditedTag=async()=>{d(!1);let{data:e}=await h.Z.put("/video/tag/".concat(c),{tag:a});e.error?P.ZP.error("".concat(e.error)):(P.ZP.success("Successfully changed the tag to ".concat(a)),l([...i.filter(e=>e._id!=c),e])),n(""),r("")};(0,g.useEffect)(()=>{let getTags=async()=>{let{data:e}=await h.Z.get("/video/tags");l(e.tags)};getTags()},[]),(0,g.useEffect)(()=>{""!=t&&(l([t,...i]),s(""))},[t]);let handleEditTag=async e=>{showModal(),n(e.tag)},handleDeleteTag=e=>{let deleteTag=async()=>{let{data:t}=await h.Z.delete("/video/tag/".concat(e._id));t.error?P.ZP.error("".concat(t.error)):(l([...i.filter(e=>e._id!=t._id)]),P.ZP.success("".concat(e.tag," successfully deleted")))};et({content:"Delete Tag: ".concat(e.tag),onOk(){deleteTag()}})};return(0,u.jsxs)(u.Fragment,{children:[i.map(e=>(0,u.jsxs)($.Z,{color:"cyan",style:{fontSize:"1rem",margin:"5px"},children:[(0,u.jsx)(I.Z,{style:{color:"red",marginRight:"5px",cursor:"pointer"},onClick:()=>handleDeleteTag(e)}),e.tag,(0,u.jsx)(ee.Z,{style:{color:"blue",marginRight:"5px",cursor:"pointer"},onClick:()=>{handleEditTag(e),r(e._id)}})]},e._id)),(0,u.jsx)(F.default,{title:"Edit Tagname For Video(s)",open:o,onOk:handleEditedTag,okText:"Edit tag name",closeIcon:!1,onCancel:()=>{d(!1)},children:(0,u.jsx)(w.default,{value:a,onChange:e=>n(e.target.value)})})]})};let{TextArea:es}=w.default;var addVideos=()=>{var e;let[t,s]=(0,g.useContext)(j.Pc),[i,l]=(0,g.useState)(""),[a,n]=(0,g.useState)(""),[c,r]=(0,g.useState)({title:"",link:"",tag:"",description:""}),[o,d]=(0,g.useState)([]),handleSubmit=async()=>{let{data:e}=await h.Z.post("/video",{videoInfo:c});(null==e?void 0:e.error)?P.ZP.error(e.error):(P.ZP.success("This video has been successfully uploaded"),r({title:"",link:"",tag:"",description:""}))},handleSubmitTagName=async()=>{let{data:e}=await h.Z.post("/video/new_tag",{tagName:i});e.error?P.ZP.error("".concat(e.error)):(n(e),P.ZP.success("Tag successfully created"),l(""))};return"Add Videos"==t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{display:"flex",height:"110px",justifyContent:"space-between"},children:[(0,u.jsx)("div",{style:{width:"35%"},children:(0,u.jsxs)(E.default.Compact,{style:{width:"100%"},children:[(0,u.jsx)(w.default,{placeholder:"Enter new tag name",value:i,onChange:e=>{l(e.target.value)}}),(0,u.jsx)(A(),{type:"primary",onClick:handleSubmitTagName,children:"Create New Tag"})]})}),(0,u.jsxs)("div",{style:{width:"60%",borderTop:"5px solid black",borderLeft:"5px solid black"},children:[(0,u.jsx)("h2",{style:{textAlign:"right"},children:" Video Tags"}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{style:{overflowY:"scroll",height:"100px"},children:(0,u.jsx)(admin_tags,{newTag:a,setNewTag:n,tags:o,setTags:d})})]})]}),(0,u.jsx)("div",{style:{marginTop:"85px"},children:(0,u.jsxs)("div",{children:[(0,u.jsx)(w.default,{style:{marginBottom:"5px"},placeholder:"Enter the title for the video",value:c.title,onChange:e=>r({...c,title:e.target.value})}),(0,u.jsx)(w.default,{style:{marginBottom:"5px"},placeholder:"Enter Youtube embed for the video",value:c.link,onChange:e=>r({...c,link:e.target.value})}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px"},children:[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,u.jsxs)("p",{children:["Seleted tag:"," ",(0,u.jsx)("span",{style:{background:"blue",color:"white",padding:"5px",borderRadius:"4px"},children:null===(e=o.filter(e=>e._id===c.tag)[0])||void 0===e?void 0:e.tag})]}),(0,u.jsx)(D.Z,{menu:{items:o.map(e=>({label:e.tag,key:e._id})),onClick:e=>r({...c,tag:e.key})},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),children:(0,u.jsxs)(E.default,{children:["Select Video Tag",(0,u.jsx)(J.default,{})]})})})]}),(0,u.jsx)(es,{rows:4,style:{width:"60%"},value:c.description,placeholder:"Enter the description for this video",onChange:e=>r({...c,description:e.target.value})}),(0,u.jsx)(A(),{type:"primary",onClick:handleSubmit,children:"Post video"})]})]})})]}):(0,u.jsx)(u.Fragment,{})};let{TextArea:ei}=w.default;var editVideo=e=>{var t;let{itemToBeEdited:s,videoInfo:i,setVideoInfo:l}=e,[a,n]=(0,g.useState)(""),[c,r]=(0,g.useState)(""),[o,d]=(0,g.useState)([]);(0,g.useEffect)(()=>{l({_id:s._id,title:s.title,link:s.embedlink,tag:s.tag._id,description:s.description})},[s]);let handleSubmitTagName=async()=>{let{data:e}=await h.Z.post("/video/new_tag",{tagName:a});e.error?P.ZP.error("".concat(e.error)):(r(e),P.ZP.success("Tag successfully created"),n(""))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{display:"flex",height:"110px",justifyContent:"space-between"},children:[(0,u.jsx)("div",{style:{width:"35%"},children:(0,u.jsxs)(E.default.Compact,{style:{width:"100%"},children:[(0,u.jsx)(w.default,{placeholder:"Enter new tag name",value:a,onChange:e=>{n(e.target.value)}}),(0,u.jsx)(A(),{type:"primary",onClick:handleSubmitTagName,children:"Create New Tag"})]})}),(0,u.jsxs)("div",{style:{width:"60%",borderTop:"5px solid black",borderLeft:"5px solid black"},children:[(0,u.jsx)("h2",{style:{textAlign:"right"},children:" Video Tags"}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{style:{overflowY:"scroll",height:"100px"},children:(0,u.jsx)(admin_tags,{newTag:c,setNewTag:r,tags:o,setTags:d})})]})]}),(0,u.jsx)("div",{style:{marginTop:"85px"},children:(0,u.jsxs)("div",{children:[(0,u.jsx)(w.default,{style:{marginBottom:"5px"},placeholder:"Enter the title for the video",value:i.title,onChange:e=>l({...i,title:e.target.value})}),(0,u.jsx)(w.default,{style:{marginBottom:"5px"},placeholder:"Enter Youtube embed for the video",value:i.link,onChange:e=>l({...i,link:e.target.value})}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px"},children:[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,u.jsxs)("p",{children:["Seleted tag:"," ",(0,u.jsx)("span",{style:{background:"blue",color:"white",padding:"5px",borderRadius:"4px"},children:null===(t=o.filter(e=>e._id===i.tag)[0])||void 0===t?void 0:t.tag})]}),(0,u.jsx)(D.Z,{menu:{items:o.map(e=>({label:e.tag,key:e._id})),onClick:e=>l({...i,tag:e.key})},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),children:(0,u.jsxs)(E.default,{children:["Select Video Tag",(0,u.jsx)(J.default,{})]})})})]}),(0,u.jsx)(ei,{rows:4,style:{width:"60%"},value:i.description,placeholder:"Enter the description for this video",onChange:e=>l({...i,description:e.target.value})})]})]})})]})};let{confirm:el}=F.default;var viewVideos=()=>{let[e,t]=(0,g.useState)(!1),[s,i]=(0,g.useState)([]),[l,a]=(0,g.useState)({}),[n,c]=(0,g.useState)([]),[r,o]=(0,g.useState)({}),[d,x]=(0,g.useContext)(j.Pc),[b,f]=(0,g.useState)(!1);(0,g.useEffect)(()=>{if("View Videos"==d){let getVideos=async()=>{let{data:e}=await h.Z.get("/videos");t(!1),i(e),c(e.slice(0,10))};getVideos()}},[d]);let handleSave=async()=>{f(!1);let{data:e}=await h.Z.put("/videos",{videoInfo:r});e.error?P.ZP.error("".concat(e.error)):(c(e),P.ZP.success("Video successfully updated"))},handleEdit=async e=>{a(e),f(!0)},handleDelete=async e=>{let deleteVideo=async()=>{let{data:t}=await h.Z.delete("/video/".concat(e._id));t.error?P.ZP.error("".concat(t.error)):(c([...n.filter(e=>e._id!=t._id)]),P.ZP.success("".concat(t.title," successfully deleted")))};el({content:"Delete Video: ".concat((0,m.Z)(e.title)),onOk(){deleteVideo()}})};return"View Videos"==d?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{style:{position:"relative",bottom:0,minHeight:"80vh"},children:[(0,u.jsx)("h3",{style:{borderBottom:"2px solid black"},children:"Videos"}),(0,u.jsx)(v.Z,{className:"video-list",loading:e,itemLayout:"horizontal",dataSource:n,renderItem:e=>(0,u.jsxs)(v.Z.Item,{actions:[(0,u.jsx)("button",{style:{color:"blue",cursor:"pointer"},onClick:()=>handleEdit(e),children:"Edit"}),(0,u.jsx)("button",{style:{color:"red",cursor:"pointer"},onClick:()=>handleDelete(e),children:"Delete"})],children:[(0,u.jsx)("h4",{style:{width:"50%"},children:(0,m.Z)(e.title)}),(0,u.jsx)("div",{style:{width:"20%"},children:(0,u.jsx)("span",{children:(0,m.Z)(e.tag.tag)})})]})}),(0,u.jsx)(F.default,{title:"Edit Video",open:b,onOk:handleSave,width:900,okText:"Save",closeIcon:!1,onCancel:()=>{f(!1)},children:(0,u.jsx)(editVideo,{itemToBeEdited:l,videoInfo:r,setVideoInfo:o})}),(0,u.jsx)("div",{style:{position:"absolute",bottom:0,display:"flex",justifyContent:"center",width:"100%"},children:(0,u.jsx)(p.default,{defaultCurrent:1,onChange:(e,t)=>{1==e?c(s.slice(0,t)):c(s.slice((e-1)*t,e*t))},pageSize:10,total:s.length,showSizeChanger:!1})})]})}):(0,u.jsx)(u.Fragment,{})};let{TextArea:ea}=w.default;var home=()=>{var e,t,s,i,l,a,n,c,r,o,d,x,j,v,p,m,b,f,k,C,w;let[Z,A]=(0,g.useState)({});(0,g.useEffect)(()=>{var e;let getHomeDetails=async()=>{let{data:e}=await h.Z.get("/base_page/home");e.homeDetails&&A(e.homeDetails.home)};(null===(e=Z.header)||void 0===e?void 0:e.h1)||getHomeDetails()},[Z]);let handleSubmit=async()=>{let{data:e}=await h.Z.post("/base_page/home",{homeDetails:Z});e.ok?P.ZP.success("Post successfully submitted"):P.ZP.error("Could not submit the post successfully, try again later!")};return(null===(e=Z.header)||void 0===e?void 0:e.h1)&&(0,u.jsxs)("div",{children:[(0,u.jsxs)(E.default,{direction:"vertical",size:24,children:[(0,u.jsx)(y.Z,{title:"BANNER IMAGE",style:{width:"70vw",background:"blue"},children:(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Banner Image Link Id:"}),(0,u.jsx)(ea,{placeholder:"paste image id",rows:1,value:null==Z?void 0:Z.banner_img,onChange:e=>A({...Z,banner_img:e.target.value})})]})}),(0,u.jsxs)(y.Z,{title:"HEADER SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading One"}),(0,u.jsx)(ea,{rows:1,value:null===(t=Z.header)||void 0===t?void 0:t.h1,disabled:!0,style:{color:"white "}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null==Z?void 0:null===(s=Z.header)||void 0===s?void 0:s.p,onChange:e=>A({...Z,header:{...Z.header,p:e.target.value}})})]})]}),(0,u.jsxs)(y.Z,{title:"WELCOME SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Two"}),(0,u.jsx)(ea,{rows:1,value:null===(i=Z.welcome)||void 0===i?void 0:i.h2,disabled:!0,style:{color:"white "}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null===(l=Z.welcome)||void 0===l?void 0:l.p,onChange:e=>A({...Z,welcome:{...Z.welcome,p:e.target.value}})})]})]}),(0,u.jsx)(y.Z,{title:"CARDS SECTION",style:{width:"70vw",background:"blue"},children:(0,u.jsxs)(E.default,{direction:"vertical",children:[(0,u.jsxs)(y.Z,{title:"CARD 1",style:{width:"65vw"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ea,{rows:1,value:null===(a=Z.cards[0])||void 0===a?void 0:a.h3,disabled:!0})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null===(n=Z.cards[0])||void 0===n?void 0:n.p,onChange:e=>A({...Z,cards:[{...Z.cards[0],p:e.target.value},Z.cards[1],Z.cards[2]]})})]})]}),(0,u.jsxs)(y.Z,{title:"CARD 2",style:{width:"65vw"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ea,{rows:1,value:null===(c=Z.cards[1])||void 0===c?void 0:c.h3,disabled:!0})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null===(r=Z.cards[1])||void 0===r?void 0:r.p,onChange:e=>A({...Z,cards:[Z.cards[0],{...Z.cards[1],p:e.target.value},Z.cards[2]]})})]})]}),(0,u.jsxs)(y.Z,{title:"CARD 3",style:{width:"65vw"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ea,{rows:1,value:null===(o=Z.cards[2])||void 0===o?void 0:o.h3,disabled:!0})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null===(d=Z.cards[2])||void 0===d?void 0:d.p,onChange:e=>A({...Z,cards:[Z.cards[0],Z.cards[1],{...Z.cards[2],p:e.target.value}]})})]})]})]})}),(0,u.jsxs)(y.Z,{title:"SUPPORT SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Two"}),(0,u.jsx)(ea,{rows:1,value:null===(x=Z.support)||void 0===x?void 0:x.h2,disabled:!0,style:{color:"white "}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null===(j=Z.support)||void 0===j?void 0:j.h3,onChange:e=>A({...Z,support:{...Z.support,h3:e.target.value}})})]})]}),(0,u.jsxs)(y.Z,{title:"FINANCIAL SUPPORT SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ea,{rows:1,value:null===(p=Z.support)||void 0===p?void 0:null===(v=p.financial)||void 0===v?void 0:v.h3,disabled:!0,style:{color:"white"}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null===(b=Z.support)||void 0===b?void 0:null===(m=b.financial)||void 0===m?void 0:m.p,onChange:e=>A({...Z,support:{...Z.support,financial:{...Z.support.financial,p:e.target.value}}})})]})]}),(0,u.jsxs)(y.Z,{title:"PRAYER SUPPORT SECTION",style:{width:"70vw",background:"blue"},children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Heading Three"}),(0,u.jsx)(ea,{rows:1,value:null===(k=Z.support)||void 0===k?void 0:null===(f=k.prayer)||void 0===f?void 0:f.h3,disabled:!0,style:{color:"white"}})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)("label",{style:{marginRight:"10px"},children:"Paragraph"}),(0,u.jsx)(ea,{rows:4,value:null===(w=Z.support)||void 0===w?void 0:null===(C=w.prayer)||void 0===C?void 0:C.p,onChange:e=>A({...Z,support:{...Z.support,prayer:{...Z.support.prayer,p:e.target.value}}})})]})]})]}),(0,u.jsx)("button",{className:"publish",onClick:handleSubmit,children:"submit"})]})};let point_man_MenuBar=e=>{let{editor:t,showModal:s}=e;return t?(c=e=>{t.chain().focus().setImage({src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(e)}).run()},(0,u.jsxs)("div",{className:"tiptap-menu",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(U.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(V.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)(z.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(G.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(W.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var point_man=e=>{let{pageToEdit:t}=e,[s,i]=(0,g.useState)([]),handleEdit=async()=>{let{data:e}=await h.Z.put("/base_page/point_man",{details:r.getHTML()});e.ok?P.ZP.success("Page edited successfully"):P.ZP.error("Error: ".concat(e.error))},[l,a]=(0,g.useState)(!1),handleOk=()=>{a(!1)};return(0,g.useEffect)(()=>{let getImages=async()=>{let{data:e}=await h.Z.get("/images");i(e)},getPointManPage=async()=>{let{data:e}=await h.Z.get("/base_page/point_man");r=new Q.ML({content:e.content,extensions:[B.Z,H.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add content for the 'poin man' page?"}}),L.ZP,R.Z.configure({types:["heading","paragraph"]}),O.ZP]})};"About Point Man"==t&&(getImages(),getPointManPage())},[t]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(point_man_MenuBar,{editor:r,showModal:()=>{a(!0)}}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)("button",{className:"publish",onClick:handleEdit,children:"Edit"}),(0,u.jsx)(M.kg,{editor:r,style:{width:"80%",marginBottom:"50px"}}),(0,u.jsxs)(F.default,{title:"Image Getter",open:l,width:800,onOk:handleOk,onCancel:()=>{a(!1)},children:[(0,u.jsx)(E.default,{size:[8,16],wrap:!0,children:null==s?void 0:s.map(e=>(0,u.jsx)(getImageComponent,{image:e,clickedFrom:"post",handleOk:handleOk,addImage:c},e._id))}),(0,u.jsx)("hr",{})]})]})]})})};let the_sgf_MenuBar=e=>{let{editor:t,showModal:s}=e;return t?(o=e=>{t.chain().focus().setImage({src:"".concat("https://api.scripturegracefoundation.org/api","/image/").concat(e)}).run()},(0,u.jsxs)("div",{className:"tiptap-menu",children:[(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"1"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"2"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"3"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"4"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"5"})]}),(0,u.jsxs)("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:["h",(0,u.jsx)("sub",{children:"6"})]}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"is-active":"",children:"p"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:(0,u.jsx)(q.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:(0,u.jsx)(U.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:"highlight"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:(0,u.jsx)(V.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:(0,u.jsx)(z.Z,{})}),(0,u.jsx)("button",{onClick:s,children:(0,u.jsx)(G.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:"blockquote"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear marks"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:(0,u.jsx)(W.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:(0,u.jsx)(K.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:(0,u.jsx)(Y.Z,{})}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),(0,u.jsx)("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"})]})):null};var the_sgf=e=>{let{pageToEdit:t}=e,[s,i]=(0,g.useState)([]),handleEdit=async()=>{let{data:e}=await h.Z.put("/base_page/the_sgf",{details:d.getHTML()});e.ok?P.ZP.success("Page edited successfully"):P.ZP.error("Error: ".concat(e.error))},[l,a]=(0,g.useState)(!1),handleOk=()=>{a(!1)};return(0,g.useEffect)(()=>{let getImages=async()=>{let{data:e}=await h.Z.get("/images");i(e)},getPointManPage=async()=>{let{data:e}=await h.Z.get("/base_page/about_sgf");d=new Q.ML({content:e.content,extensions:[B.Z,H.Z.configure({placeholder:e=>{let{node:t}=e;return"heading"===t.type.name&&1===t.attrs.level?"What’s the title?":"Can you add content for the 'poin man' page?"}}),L.ZP,R.Z.configure({types:["heading","paragraph"]}),O.ZP]})};"About The SGF"==t&&(getImages(),getPointManPage())},[t]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{style:{position:"relative",top:0},children:[(0,u.jsx)(the_sgf_MenuBar,{editor:d,showModal:()=>{a(!0)}}),(0,u.jsxs)("div",{className:"tiptap-content",children:[(0,u.jsx)("button",{className:"publish",onClick:handleEdit,children:"Edit"}),(0,u.jsx)(M.kg,{editor:d,style:{width:"80%",marginBottom:"50px"}}),(0,u.jsxs)(F.default,{title:"Image Getter",open:l,width:800,onOk:handleOk,onCancel:()=>{a(!1)},children:[(0,u.jsx)(E.default,{size:[8,16],wrap:!0,children:null==s?void 0:s.map(e=>(0,u.jsx)(getImageComponent,{image:e,clickedFrom:"post",handleOk:handleOk,addImage:o},e._id))}),(0,u.jsx)("hr",{})]})]})]})})};let listToObject=e=>{let t=e.map(e=>{let t={[e[0]]:e[1]};return JSON.stringify(t)}),s=t.join(",");return s},objectToList=e=>{let t=e.split(","),s=t.map(e=>{let t=[],s=JSON.parse(e);return t.push(Object.keys(s)[0]),t.push(s[Object.keys(s)[0]]),t});return s},{TextArea:en}=w.default;var footer_info=e=>{let{pageToEdit:t}=e,[s,i]=(0,g.useState)({about_us:"",location:"",quick_links:[]});(0,g.useEffect)(()=>{let getHomeDetails=async()=>{let{data:e}=await h.Z.get("/base_page/footer_info");e.details&&i({...e.details.footer_info,quick_links:listToObject(e.details.footer_info.quick_links)})};"FooterInfo"==t&&getHomeDetails()},[t]);let handleSubmit=async()=>{try{let e=objectToList(s.quick_links),t={...s,quick_links:e},{data:i}=await h.Z.post("/base_page/footer_info",{details:t});i.ok?P.ZP.success("Details successfully submitted"):P.ZP.error("Could not successfully submit the details, try again later!")}catch(e){P.ZP.error('The format of the "quick Links" section is incorrect. Note, it cannot be blank')}};return(0,u.jsxs)("div",{children:[(0,u.jsxs)(E.default,{direction:"vertical",size:24,children:[(0,u.jsxs)(y.Z,{title:"ABOUT US",style:{width:"70vw",background:"blue"},children:[(0,u.jsx)("br",{}),(0,u.jsx)(en,{rows:4,value:s.about_us,onChange:e=>i({...s,about_us:e.target.value})})]}),(0,u.jsxs)(y.Z,{title:"OUR LOCATION",style:{width:"70vw",background:"blue"},children:[(0,u.jsx)("br",{}),(0,u.jsx)(en,{rows:4,value:s.location,onChange:e=>i({...s,location:e.target.value})})]}),(0,u.jsxs)(y.Z,{title:"QUICK LINKS",style:{width:"70vw",background:"blue"},children:[(0,u.jsx)("br",{}),(0,u.jsx)(en,{placeholder:'{"Link name": "Link URL"}, {"Link name": "Link URL"}',rows:4,value:s.quick_links,onChange:e=>i({...s,quick_links:e.target.value})})]})]}),(0,u.jsx)("button",{className:"publish",onClick:handleSubmit,children:"submit"})]})},editBasePages=()=>{let[e,t]=(0,g.useContext)(j.Pc),[s,i]=(0,g.useState)("Home");return"Edit BasePages"==e?(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{style:{borderBottom:"1px solid black"},children:"Edit Page"}),(0,u.jsxs)("div",{style:{overflowY:"scroll",height:"82vh",marginTop:"15px"},children:[(0,u.jsxs)("div",{style:{display:"flex",marginBottom:"15px",justifyContent:"space-between"},children:[(0,u.jsxs)("span",{children:["Page Selected: ",(0,u.jsx)(A(),{disabled:!0,children:s})]}),(0,u.jsx)(D.Z,{menu:{items:ec,onClick:e=>{switch(e.key){case"1":i("Home");break;case"2":i("About Point Man");break;case"3":i("About The SGF");break;case"4":i("FooterInfo");break;default:console.log(e)}}},children:(0,u.jsx)("a",{onClick:e=>e.preventDefault(),children:(0,u.jsxs)(E.default,{children:["Select Page To Edit",(0,u.jsx)(J.default,{})]})})})]}),"Home"==s&&(0,u.jsx)(home,{}),"About Point Man"==s&&(0,u.jsx)(point_man,{pageToEdit:s}),"About The SGF"==s&&(0,u.jsx)(the_sgf,{pageToEdit:s}),"FooterInfo"==s&&(0,u.jsx)(footer_info,{pageToEdit:s})]})]}):(0,u.jsx)(u.Fragment,{})};let ec=[{key:"1",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"Home"})},{key:"2",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"About Point Man"})},{key:"3",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"About The SGF"})},{key:"4",label:(0,u.jsx)("div",{style:{textAlign:"center"},children:"Footer Info"})}],{TextArea:er}=w.default;var broadcast_message=()=>{let[e,t]=(0,g.useContext)(j.Pc),[s,i]=(0,g.useState)(!1),[l,a]=(0,g.useState)("");(0,g.useEffect)(()=>{},[e]);let handleSendMail=async()=>{i(!0);let{data:e}=await h.Z.post("/subscribers/mail",{mail:l});(null==e?void 0:e.ok)?(P.ZP.success("Email sent to all subscribers"),a("")):P.ZP.error("There was an error sending this mail, try again later."),i(!1)};return"broadcast"==e&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(y.Z,{style:{width:"100%"},children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{style:{color:"gray",marginBottom:12},children:"Send all subscribers a mail?"}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)(er,{rows:6,placeholder:"Enter a message to send",value:l,style:{fontSize:"1rem"},onChange:e=>a(e.target.value)})}),(0,u.jsx)("div",{style:{width:280,float:"right",marginTop:24},children:(0,u.jsx)(A(),{block:!0,type:"primary",onClick:handleSendMail,loading:s,children:"Send Mail"})})]})})})},eo=s(21632),ed=s(7737),eu=s(46403),eh=s(32194),eg=s(99753),ex=s(78390),ej=s(59180),ev=s(27302),ep=s(83452),em=s(16373),eb=s(12386),ef=s(1541);let{Header:ey,Content:ek,Footer:eC,Sider:ew}=em.default;function getItem(e,t,s,i){return{key:t,icon:s,children:i,label:e}}let eZ=[getItem("Posts","sub1",(0,u.jsx)(eg.Z,{}),[getItem("Create Post","1",(0,u.jsx)(eh.Z,{})),getItem("View Posts","2",(0,u.jsx)(ed.default,{}))]),getItem("Edit BasePages","3",(0,u.jsx)(ee.Z,{})),getItem("Images","sub2",(0,u.jsx)(G.Z,{}),[getItem("Add Image","4",(0,u.jsx)(eo.Z,{})),getItem("View Image","5",(0,u.jsx)(ed.default,{}))]),getItem("Videos","sub3",(0,u.jsx)(ej.Z,{}),[getItem("Add Videos","6",(0,u.jsx)(ev.Z,{})),getItem("View Videos","7",(0,u.jsx)(ed.default,{}))]),getItem("Subscribers","8",(0,u.jsx)(eu.Z,{})),getItem("Broadcast Message","9",(0,u.jsx)(ep.Z,{})),getItem("Logout","10",(0,u.jsx)(ex.Z,{}))];var dashboard=()=>{let e=window.innerWidth,[t,s]=(0,g.useState)(!1),[i,l]=(0,g.useState)(""),[a,n]=(0,g.useContext)(j.Pc),c=(0,x.useRouter)();(0,g.useEffect)(()=>{e<=580&&s(!0)},[]);let{token:{colorBgContainer:r}}=ef.Z.useToken(),handleClick=async e=>{switch(e.key){case"1":n("Create Post");break;case"2":n("View Posts");break;case"3":n("Edit BasePages");break;case"4":n("add image");break;case"5":n("view images");break;case"6":n("Add Videos");break;case"7":n("View Videos");break;case"8":n("subscribers");break;case"9":n("broadcast");break;case"10":localStorage.removeItem("auth"),c.push("/signin")}};return(0,u.jsxs)(em.default,{style:{minHeight:"100vh"},children:[(0,u.jsxs)(ew,{collapsible:!0,collapsed:t,onCollapse:e=>s(e),children:[(0,u.jsx)("div",{className:"demo-logo-vertical"}),(0,u.jsx)(eb.default,{theme:"dark",defaultSelectedKeys:[],mode:"inline",onClick:handleClick,items:eZ})]}),(0,u.jsx)(em.default,{children:(0,u.jsxs)(ek,{style:{margin:"24px 16px 0",overflow:"initial"},children:[(0,u.jsx)(getSubscribers,{setSubscriberId:l}),(0,u.jsx)(getSubscriber,{subscriberId:i}),(0,u.jsx)(uploadImage,{}),(0,u.jsx)(viewImages,{}),(0,u.jsx)(createPost,{}),(0,u.jsx)(viewPosts,{}),(0,u.jsx)(addVideos,{}),(0,u.jsx)(viewVideos,{}),(0,u.jsx)(editBasePages,{}),(0,u.jsx)(broadcast_message,{})]})})]})},admin=()=>{let e=(0,x.useRouter)();return(0,g.useEffect)(()=>{if(localStorage.getItem("auth")&&JSON.parse(localStorage.getItem("auth")).user._id){let isAdmin=async()=>{let{data:e}=await h.Z.get("/is_admin")};isAdmin()}else e.push("/signin")},[]),(0,u.jsx)(j.Qz,{children:(0,u.jsx)(dashboard,{})})}}},function(e){e.O(0,[911,885,352,316,228,43,24,461,548,951,499,843,187,831,302,388,774,888,179],function(){return e(e.s=58195)}),_N_E=e.O()}]);